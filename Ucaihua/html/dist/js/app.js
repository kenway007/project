function FastClick(a){"use strict";var b,c=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=a,!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(c,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)},FastClick.notNeeded(a)||(this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null))}!function(a,b){function c(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}function d(){return A++}function e(a){return a.match(D)[0]}function f(a){for(a=a.replace(E,"/"),a=a.replace(G,"$1/");a.match(F);)a=a.replace(F,"/");return a}function g(a){var b=a.length-1,c=a.charCodeAt(b);return 35===c?a.substring(0,b):".js"===a.substring(b-2)||a.indexOf("?")>0||47===c?a:a+".js"}function h(a){var b=v.alias;return b&&x(b[a])?b[a]:a}function i(a){var b,c=v.paths;return c&&(b=a.match(H))&&x(c[b[1]])&&(a=c[b[1]]+b[2]),a}function j(a){var b=v.vars;return b&&a.indexOf("{")>-1&&(a=a.replace(I,function(a,c){return x(b[c])?b[c]:a})),a}function k(a){var b=v.map,c=a;if(b)for(var d=0,e=b.length;e>d;d++){var f=b[d];if(c=z(f)?f(a)||a:a.replace(f[0],f[1]),c!==a)break}return c}function l(a,b){var c,d=a.charCodeAt(0);if(J.test(a))c=a;else if(46===d)c=(b?e(b):v.cwd)+a;else if(47===d){var g=v.cwd.match(K);c=g?g[0]+a.substring(1):a}else c=v.dir_app+a;return 0===c.indexOf("//")&&(c=location.protocol+c),f(c)}function m(a,b){if(!a)return"";a=h(a),a=i(a),a=h(a),a=j(a),a=h(a),a=g(a),a=h(a);var c=l(a,b);return c=h(c),c=k(c)}function n(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function o(a,b){var c;try{importScripts(a)}catch(d){c=d}b(c)}function p(a,b,c){var d=Y.createElement("script");if(c){var e=z(c)?c(a):c;e&&(d.charset=e)}q(d,b,a),d.async=!0,d.src=a,_=d,bb?ab.insertBefore(d,bb):ab.appendChild(d),_=null}function q(a,b,c){function d(c){a.onload=a.onerror=a.onreadystatechange=null,v.debug||ab.removeChild(a),a=null,b(c)}var e="onload"in a;e?(a.onload=d,C("error",{uri:c,node:a}),a.onerror=function(){C("error",{uri:c,node:a}),d(!0)}):a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&d()}}function r(){if(_)return _;if(cb&&"interactive"===cb.readyState)return cb;for(var a=ab.getElementsByTagName("script"),b=a.length-1;b>=0;b--){var c=a[b];if("interactive"===c.readyState)return cb=c}}function s(a){function b(){k=a.charAt(l++)}function c(){return/\s/.test(k)}function d(){return'"'==k||"'"==k}function e(){var c=l,d=k,e=a.indexOf(d,c);if(-1==e)l=m;else if("\\"!=a.charAt(e-1))l=e+1;else for(;m>l;)if(b(),"\\"==k)l++;else if(k==d)break;o&&(r.push(a.slice(c,l-1)),o=0)}function f(){for(l--;m>l;)if(b(),"\\"==k)l++;else{if("/"==k)break;if("["==k)for(;m>l;)if(b(),"\\"==k)l++;else if("]"==k)break}}function g(){return/[a-z_$]/i.test(k)}function h(){var b=a.slice(l-1),c=/^[\w$]+/.exec(b)[0];p={"if":1,"for":1,"while":1,"with":1}[c],n={"break":1,"case":1,"continue":1,"debugger":1,"delete":1,"do":1,"else":1,"false":1,"if":1,"in":1,"instanceof":1,"return":1,"typeof":1,"void":1}[c],o=/^require\s*\(\s*(['"]).+?\1\s*\)/.test(b),o?(c=/^require\s*\(\s*['"]/.exec(b)[0],l+=c.length-2):l+=/^[\w$]+(?:\s*\.\s*[\w$]+)*/.exec(b)[0].length-1}function i(){return/\d/.test(k)||"."==k&&/\d/.test(a.charAt(l))}function j(){var b,c=a.slice(l-1);b="."==k?/^\.\d+(?:E[+-]?\d*)?\s*/i.exec(c)[0]:/^0x[\da-f]*/i.test(c)?/^0x[\da-f]*\s*/i.exec(c)[0]:/^\d+\.?\d*(?:E[+-]?\d*)?\s*/i.exec(c)[0],l+=b.length-1,n=0}if(-1==a.indexOf("require"))return[];for(var k,l=0,m=a.length,n=1,o=0,p=0,q=[],r=[];m>l;)b(),c()||(d()?(e(),n=1):"/"==k?(b(),"/"==k?(l=a.indexOf("\n",l),-1==l&&(l=a.length)):"*"==k?(l=a.indexOf("*/",l),-1==l?l=m:l+=2):n?(f(),n=0):(l--,n=1)):g()?h():i()?j():"("==k?(q.push(p),n=1):")"==k?n=q.pop():(n="]"!=k,o=0));return r}function t(a,b){this.uri=a,this.dependencies=b||[],this.deps={},this.status=0,this._entry=[]}if(!a.seajs){var u=a.seajs={version:"3.0.0"},v=u.data={},w=c("Object"),x=c("String"),y=Array.isArray||c("Array"),z=c("Function"),A=0,B=v.events={};u.on=function(a,b){var c=B[a]||(B[a]=[]);return c.push(b),u},u.off=function(a,b){if(!a&&!b)return B=v.events={},u;var c=B[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);else delete B[a];return u};var C=u.emit=function(a,b){var c=B[a];if(c){c=c.slice();for(var d=0,e=c.length;e>d;d++)c[d](b)}return u},D=/[^?#]*\//,E=/\/\.\//g,F=/\/[^/]+\/\.\.\//,G=/([^:/])\/+\//g,H=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,J=/^\/\/.|:\//,K=/^.*?\/\/.*?\//;u.resolve=m;var L,M,N="undefined"==typeof window&&"undefined"!=typeof importScripts&&z(importScripts),O=/^(about|blob):/,P=!location.href||O.test(location.href)?"":e(location.href);if(N){var Q;try{var R=new Error;throw R}catch(S){Q=S.stack.split("\n")}Q.shift();for(var T,U=/.*?((?:http|https|file)(?::\/{2}[\w]+)(?:[\/|\.]?)(?:[^\s"]*)).*?/i,V=/(.*?):\d+:\d+\)?$/;Q.length>0;){var W=Q.shift();if(T=U.exec(W),null!=T)break}var X;if(null!=T)var X=V.exec(T[1])[1];M=X,L=e(X||P),""===P&&(P=L)}else{var Y=document,Z=Y.scripts,$=Y.getElementById("seajsnode")||Z[Z.length-1];M=n($),L=e(M||P)}if(N)u.request=o;else{var _,Y=document,ab=Y.head||Y.getElementsByTagName("head")[0]||Y.documentElement,bb=ab.getElementsByTagName("base")[0];u.request=p}var cb,db,eb=u.cache={},fb={},gb={},hb={},ib=t.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6,ERROR:7};t.prototype.resolve=function(){for(var a=this,b=a.dependencies,c=[],d=0,e=b.length;e>d;d++)c[d]=t.resolve(b[d],a.uri);return c},t.prototype.pass=function(){for(var a=this,b=a.dependencies.length,c=0;c<a._entry.length;c++){for(var d=a._entry[c],e=0,f=0;b>f;f++){var g=a.deps[a.dependencies[f]];g.status<ib.LOADED&&!d.history.hasOwnProperty(g.uri)&&(d.history[g.uri]=!0,e++,g._entry.push(d),g.status===ib.LOADING&&g.pass())}e>0&&(d.remain+=e-1,a._entry.shift(),c--)}},t.prototype.load=function(){var a=this;if(!(a.status>=ib.LOADING)){a.status=ib.LOADING;var b=a.resolve();C("load",b);for(var c=0,d=b.length;d>c;c++)a.deps[a.dependencies[c]]=t.get(b[c]);if(a.pass(),a._entry.length)return void a.onload();var e,f={};for(c=0;d>c;c++)e=eb[b[c]],e.status<ib.FETCHING?e.fetch(f):e.status===ib.SAVED&&e.load();for(var g in f)f.hasOwnProperty(g)&&f[g]()}},t.prototype.onload=function(){var a=this;a.status=ib.LOADED;for(var b=0,c=(a._entry||[]).length;c>b;b++){var d=a._entry[b];0===--d.remain&&d.callback()}delete a._entry},t.prototype.error=function(){var a=this;a.onload(),a.status=ib.ERROR},t.prototype.exec=function(){function a(b){var d=c.deps[b]||t.get(a.resolve(b));if(d.status==ib.ERROR)throw new Error("module was broken: "+d.uri);return d.exec()}var c=this;if(c.status>=ib.EXECUTING)return c.exports;if(c.status=ib.EXECUTING,c._entry&&!c._entry.length&&delete c._entry,!c.hasOwnProperty("factory"))return void(c.non=!0);var e=c.uri;a.resolve=function(a){return t.resolve(a,e)},a.async=function(b,c){return t.use(b,c,e+"_async_"+d()),a};var f=c.factory,g=z(f)?f(a,c.exports={},c):f;return g===b&&(g=c.exports),delete c.factory,c.exports=g,c.status=ib.EXECUTED,C("exec",c),c.exports},t.prototype.fetch=function(a){function b(){u.request(f.requestUri,f.onRequest,f.charset)}function c(a){delete fb[g],gb[g]=!0,db&&(t.save(e,db),db=null);var b,c=hb[g];for(delete hb[g];b=c.shift();)a===!0?b.error():b.load()}var d=this,e=d.uri;d.status=ib.FETCHING;var f={uri:e};C("fetch",f);var g=f.requestUri||e;return!g||gb.hasOwnProperty(g)?void d.load():fb.hasOwnProperty(g)?void hb[g].push(d):(fb[g]=!0,hb[g]=[d],C("request",f={uri:e,requestUri:g,onRequest:c,charset:z(v.charset)?v.charset(g)||"utf-8":v.charset}),void(f.requested||(a?a[f.requestUri]=b:b())))},t.resolve=function(a,b){var c={id:a,refUri:b};return C("resolve",c),c.uri||u.resolve(c.id,b)},t.define=function(a,c,d){var e=arguments.length;1===e?(d=a,a=b):2===e&&(d=c,y(a)?(c=a,a=b):c=b),!y(c)&&z(d)&&(c="undefined"==typeof s?[]:s(d.toString()));var f={id:a,uri:t.resolve(a),deps:c,factory:d};if(!N&&!f.uri&&Y.attachEvent&&"undefined"!=typeof r){var g=r();g&&(f.uri=g.src)}C("define",f),f.uri?t.save(f.uri,f):db=f},t.save=function(a,b){var c=t.get(a);c.status<ib.SAVED&&(c.id=b.id||a,c.dependencies=b.deps||[],c.factory=b.factory,c.status=ib.SAVED,C("save",c))},t.get=function(a,b){return eb[a]||(eb[a]=new t(a,b))},t.use=function(b,c,d){var e=t.get(d,y(b)?b:[b]);e._entry.push(e),e.history={},e.remain=1,e.callback=function(){for(var b=[],d=e.resolve(),f=0,g=d.length;g>f;f++)b[f]=eb[d[f]].exec();c&&c.apply(a,b),delete e.callback,delete e.history,delete e.remain,delete e._entry},e.load()},u.use=function(a,b){return t.use(a,b,v.cwd+"_use_"+d()),u},t.define.cmd={},a.define=t.define,u.Module=t,v.fetchedList=gb,v.cid=d,u.require=function(a){var b=t.get(t.resolve(a));return b.status<ib.EXECUTING&&(b.onload(),b.exec()),b.exports},v.dir_app=L,v.dir=L,v.loader=M,v.cwd=P,v.charset="utf-8",u.config=function(a){for(var b in a){var c=a[b],d=v[b];if(d&&w(d))for(var e in c)d[e]=c[e];else y(d)?c=d.concat(c):"base"===b&&("/"!==c.slice(-1)&&(c+="/"),c=l(c)),v[b]=c}return C("config",a),u}}}(this),define("app",["core/selector","core/lang","core/tpl","core/config","widget/common","widget/alert","widget/query_box","widget/ui","widget/upload","core/agent","core/event","core/net","core/cookie","widget/netCache","core/time","core/fastclick","net","core/page"],function(a,b){"use strict";window.$=a("core/selector.js"),window.lang=a("core/lang.js"),window.sys=lang.sys(),window.tpl=a("core/tpl.js"),window.C=a("core/config.js"),window.common=a("widget/common.js"),window.agent=a("core/agent.js"),window.net=a("core/net.js"),window.cookie=a("core/cookie.js"),window.netCache=a("widget/netCache"),a("core/time");{var c=a("core/fastclick.js");a("net")}new c(document.body);var d=a("core/page.js");netCache.config({onFronts:function(){common.loadShow()},onSuccessBefores:function(a,b){a&&"200"==a.status||(b.isPack=!1,netCache.clear()),"200"!=a.status&&"请先登录"==a.error_msg&&(location.hash="#/login_wel",netCache.clear())},onSuccessAfters:function(){common.loadHide()},auto_update_ig:"pageviews,icon,face,reply_icon"}),netCache(),d.onHide(function(){common.loadHide()}),d.onChange(function(){setTimeout(function(){common.wx_set_share({})},60)}),b.start=function(){navigator.control&&navigator.control.gesture&&navigator.control.gesture(!1),C.city=common.getCity(),d.start("dyn"),document.body.scrollWidth>1004&&$("#ibody").css("min-height",document.body.scrollHeight),common.is_weixn()&&(window.my_wx=seajs.use("widget/wx").cache["./js/widget/wx.js"].exports)}}),define("core/agent",["./event","./lang"],function(a,b,c){"use strict";var d=a("./event");c.exports=new d}),define("core/config",[],function(a,b,c){var d,e,f={},g={};e=f.host="http://"+location.host,g.icon={_5851:"changjia",_5852:"zongdai",_5854:"fenxiao",_5855:"lingshou",_5857:"shouhou",_5856:"weixiu",_10276:"ershou"},g.icon_cn={"厂家":"changjia","总代":"zongdai","分销":"fenxiao","零售":"lingshou","售后":"shouhou","维修":"weixiu","二手":"ershou"},f.dir_app="app.php",d=lang.extend(g,f);var h=d.api={};h.login="?act=login",h.person_list="?act=person_list",h.attention="?act=attention",h.get_userinfo="?act=get_userinfo",h.step="?act=step",h.lianxiren_pl="?act=lianxiren_pl",h.favorite="?act=favorite",h.subject="?act=subject",h.get_demand_list="?act=get_demand_list",h.demand_comment="?act=demand_comment",h.demand="?act=demand",h.subject_list="?act=subject_list",h.modify_mobile="?act=modify_mobile",h.register="?act=register",h.get_password="?act=get_password",h.myproduct="?act=myproduct",h.category="?act=category",h.userinfo="?act=userinfo",h.custom_made="?act=custom_made",h.subject_brand="?act=subject_brand",h.wxGetJsConfig="?act=wx_get_js_config",h.edit_user_info="?act=edit_user_info",h.get_adv="?act=get_adv",h.fans_top="?act=fans_top",h.demands="?act=demands",function(){var a;for(a in h)h[a]=d.dir_app+h[a]}(),d.noface1="http://www.pccn.com.cn/static/images/noface1.png",d.subject_default="http://www.pccn.com.cn/uploads/brand/subject_default.jpg",d.alert_aet="网络请求失败~请稍后再试",d.alert_post="提交中. . .",d.alert_cs="更改成功!",d.alert_noData="没有数据啦!",d.alert_qxztp="请选择图片!",d.alert_mcbnwk="名称不能为空!",d.alert_zzhq="正在获取, 请稍后. . .",d.alert_zzhqdlwz="正在获取地理位置, 请稍后. . .",d.alert_dlwzcw="获取地理位置错误,请检查您的设备!",d.alert_qsrnr="请输入内容. . .",d.alert_tpzzclz="图片正在处理中,请稍后...",d.alert_bzcglx="不支持该类型!",d.alert_tjcg="提交成功!",d.mapKey="m4rpRNGws0FrqwUrAH9uo0Gh",d.ls=localStorage,f={},g={},c.exports=d}),define("core/cookie",[],function(a,b,c){"use strict";var d=function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=$.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")};d.remove=function(a){d(a,0,{expires:-1})},c.exports=d}),define("core/data",[],function(a,b,c){"use strict";function d(a){a?this.ids=f(a):"",this.cache={},this.list=[]}function e(a,b){var c,d=a;if(h(d)){c=b;for(var e=0,f=d.length;f>e;e++)c=c[d[e]]}else c=b[d];return c}function f(a){var b="";return b=-1==a.indexOf(".")?a:a.split(".")}function g(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}d.prototype.get=function(a){var b=this.cache["_id"+a];return b?f(ids):void 0},d.prototype.add=function(a,b){var c,d=[],g=this.cache,h=this.list;c=b?f(b):this.ids;for(var i=0,j=a.length;j>i;i++){var k=a[i],l=e(c,k);if(void 0==g["_id"+l]){var m=g["_id"+l]={};m.data=k,h.push(m),m.i=h.length-1,d.push(m)}}return d},d.prototype.remove=function(a){var b=this.cache,c=this.list;a?(c.splice(b.i,1),delete b["_id"+a]):(this.cache={},this.list=[])},d.prototype.update=function(a,b){var c=this.cache,d=this.list;if(a){var e=c["_id"+a];d[e.i]=b,c["_id"+a]=b}};var h=Array.isArray||g("Array");c.exports=d}),define("core/event",["./lang"],function(a,b,c){"use strict";function d(a,b){var c=new b,d=a&&a.prototype||a||{};return f.extend(d,c),a}function e(a){return this.handlers={},null!=a?d(a,e):void 0}var f=a("./lang"),g=Array.prototype.slice,h=/\S+/g,i=function(){function a(a){var b=c[a]={};return f.each(a.match(h),function(a){b[a]=!0}),b}function b(b){this.options="string"==typeof b?c[b]||a(b):f.extend({},b),this.list=[],this.stack=!this.options.once&&[],this.dataCache=null,this.status=d.INIT,this.firingStart=this.firingLength=this.firingIndex=0}var c={},d={INIT:0,FIRING:1,FIRED:2};return b.prototype={_fire:function(a){var b=this.list,c=this.stack;for(this.firingIndex=this.firingStart||0,this.firingStart=0,this.firingLength=b.length,this.dataCache=this.options.memory&&a,this.status=d.FIRING;b&&this.firingIndex<this.firingLength;this.firingIndex++)b[this.firingIndex].apply(a[0],a[1]);this.status=d.FIRED,b&&(c?c.length&&this._fire(c.shift()):this.dataCache?this.empty():this.disable())},add:function(){var a=this;if(this.list){var b=this.list.length;!function c(b){f.each(b,function(b){var d=f.type(b);"function"===d?a.list.push(b):b&&b.length&&"string"!==d&&c(b)})}(arguments),this.status===d.FIRING?this.firingLength=this.list.length:this.dataCache&&(this.firingStart=b,this._fire(this.dataCache))}return this},remove:function(){return this.list&&f.each(arguments,function(a){for(var b=f.indexOf(this.list,a);b>-1;)this.list.splice(b,1),this.status===d.FIRING&&(b<=this.firingLength&&this.firingLength--,b<=this.firingIndex&&this.firingIndex--),b=f.indexOf(this.list,a,b)},this),this},has:function(a){var b=this.list;return a?f.indexOf(b,a)>-1:!(!b||!b.length)},empty:function(){return this.list.length=0,this.firingLength=0,this},disable:function(){return this.list=this.stack=this.dataCache=null,this},lock:function(){return this.stack=null,this.dataCache||this.disable(),this},fireWith:function(a,b){var c=this.status!==d.FIRED,e=this.status===d.FIRING,f=this.list,g=this.stack;return b=b||[],b=[a,b.slice?b.slice():b],f&&(c||g)&&(e?g.push(b):this._fire(b)),this},fire:function(){return this.fireWith(this,arguments),this}},b._optionsCache=c,b._createOptions=a,b}();i.prototype.constructor=i;var j=function(){function a(b){return this.handlers=[new i("once memory"),new i("once memory"),new i("memory")],this.status=c.INIT,f.each(e,function(a,b){var c=this,d=this.handlers[b],e=a[2];this[a[1]]=function(){return d.add.apply(d,arguments),this},e&&d.add(function(){c.status=e,c.handlers[1^b].disable(),c.handlers[2].lock()})},this),null!=b?d(b,a):void 0}function b(){var a=[],b=[],c=new j,d=c.resolve;return c._when=[],c._count=arguments.length,f.each(arguments,function(e,f){c._when.push(e.always(function(){a[f]||(a[f]=!0,b[f]=g.call(arguments),0===--c._count&&(a.length=0,d.apply(c,b)))}))}),c.then=c.done,f.each(["done","fail","progress","always","resolve","reject","notify"],function(a){delete c[a]}),f.extend(c,k),c}var c={INIT:0,RESOLVED:1,REJECTED:2},e=[["resolve","done",c.RESOLVED],["reject","fail",c.REJECTED],["notify","progress"]],h=a.prototype={then:function(){var a=arguments;return f.each(e,function(b,c){var d=a[c];"function"===f.type(d)&&this[b[1]](d)},this),this},always:function(a){return this.then(a,a),this}};f.each(e,function(a,b){h[a[0]]=function(){return this.handlers[b].fireWith(this,arguments),this}});var k={all:function(){var a=b.apply(this,this._when);return a},any:function(){var a=b.apply(this,this._when);return a._count=1,a},some:function(a){var c=b.apply(this,this._when);return c._count=a,c}};return a.when=b,a}();j.prototype.constructor=j,e.prototype.on=function(a){var b,c=g.call(arguments,1);return b=function(a,b){var c=this.handlers[a];c||(c=this.handlers[a]=new i),c.add.apply(c,b)},"string"==typeof a?f.each(a.match(h),function(a){b.call(this,a,c)},this):f.each(a,function(a,c){b.call(this,c,[a])},this),this},e.prototype.off=function(a){var b,c=g.call(arguments,1);return b=function(a,b){var c=this.handlers[a];c&&c.remove.apply(c,b)},"string"==typeof a?f.each(a.match(h),function(a){b.call(this,a,c)},this):f.each(a,function(a,c){b.call(this,c,[a])},this),this},e.prototype.trigger=function(a){var b=g.call(arguments,1);return f.each(a.match(h),function(a){var c=this.handlers[a];c&&c.fireWith(c,b)},this),this},e._mixin=d,e.Handlers=i,e.Promise=j,c.exports=e}),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.determineEventType=function(a){"use strict";return this.deviceIsAndroid&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(a){"use strict";var b;this.deviceIsIOS&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){"use strict";var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],this.deviceIsIOS){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},FastClick.prototype.onTouchMove=function(a){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),d=g.tagName.toLowerCase(),"label"===d){if(b=this.findControl(g)){if(this.focus(g),this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g))return a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,!1):(this.focus(g),this.deviceIsIOS4&&"select"===d||(this.targetElement=null,a.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(e=g.fastClickScrollParent,e&&e.fastClickLastScrollTop!==e.scrollTop)?!0:(this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){"use strict";return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){"use strict";var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){"use strict";var b,c;if("undefined"==typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===a.style.msTouchAction?!0:!1},FastClick.attach=function(a){"use strict";return new FastClick(a)},define("core/fastclick",[],function(a,b,c){"use strict";c.exports=FastClick}),define("core/fn",[],function(a,b){"use strict";function c(a,b){var c=this;return this.init=!0,this.a=a,this.b=b,function(){c.init?c.a():c.b()}}b.toggle=c}),define("core/lang",[],function(a,b){"use strict";function c(a,b){this.out=0,this.fn=a||function(){},this.time=b||1e3}var d=Object.prototype,e=Array.prototype,f=d.toString,g=d.hasOwnProperty,h=e.slice,i=b,j=navigator.userAgent,k={},l={},m=j.match(/WebKit\/([\d.]+)/),n=j.match(/(Android)\s+([\d.]+)/),o=j.match(/(iPad).*OS\s([\d_]+)/),p=!o&&j.match(/(iPhone\sOS)\s([\d_]+)/),q=j.match(/Kindle\/([\d.]+)/),r=j.match(/Silk\/([\d._]+)/),s=j.match(/UC/);l.webkit=!!m,l.webkit&&(l.version=m[1]),n&&(k.android=!0,k.version=n[2]),p&&(k.ios=k.iphone=!0,k.version=p[2].replace(/_/g,".")),o&&(k.ios=k.ipad=!0,k.version=o[2].replace(/_/g,".")),q&&(k.kindle=!0,k.version=q[1]),r&&(l.silk=!0,l.version=r[1]),!r&&k.android&&j.match(/Kindle Fire/)&&(l.silk=!0),s&&(l.uc=!0),n||o||p||q||r||s||(l.desktop=!0),i.os=k,i.browser=l,i.type=function(a){var b;return null==a?b=String(a):(b=f.call(a).toLowerCase(),b=b.substring(8,b.length-1)),b},i.each=function(a,b,c){var d,e,f;if("object"==typeof a)if(f=i.type(a),c=c||a,"array"===f||"arguments"===f){for(d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===!1)return}else for(d in a)if(g.call(a,d)&&b.call(c,a[d],d,a)===!1)return},i.bind=function(a,b){var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},i.isPlainObject=function(a){var b;if(!a||"object"!==i.type(a)||a.nodeType||"setInterval"in a)return!1;if(a.constructor&&!g.call(a,"constructor")&&!g.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(b in a);return void 0===b||g.call(a,b)},i.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,j=arguments.length,k=!1;for("boolean"==typeof g&&(k=g,g=arguments[1]||{},h=2),"object"!=typeof g&&"function"!==i.type(g)&&(g={}),j===h&&(g=this,--h);j>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(k&&d&&(i.isPlainObject(d)||(e="array"===i.type(d)))?(e?(e=!1,f=c&&"array"===i.type(c)?c:[]):f=c&&i.isPlainObject(c)?c:{},g[b]=i.extend(k,f,d)):void 0!==d&&(g[b]=d));return g},i.indexOf=function(a,b,c){if(null==a)throw new TypeError;var d=Object(a),e=Number(d.length);if(e!==e||0===e)return-1;var f=0;if(arguments.length>1){if(f=Number(c),f!==f?f=0:0!==f&&1/0!==f&&f!==-1/0&&(f=(f>0||-1)*Math.floor(Math.abs(f))),f>=e)return-1;for(var g=f>=0?f:Math.max(e-Math.abs(f),0);e>g;g++)if(g in d&&d[g]===b)return g;return-1}},b.sys=function(){function a(){var a=g.match(/MSIE(.{0,2})/);l="pc",j="ie"+a[1].slice(1,2),i="ie",k="ms"}function b(){l="pc",h="Opera"}function c(){var a=g.match(/Firefox\/(.*)/);l="pc",j="firefox"+a[1],i="firefox",k="moz"}function d(){l="pc",i="webkit",k="webkit"}function e(){l="ios",i=m,k="webkit"}function f(){l="android",i=m,k="webkit",j=""}for(var g=navigator.userAgent,h={},i="",j="",k="",l="",m=["Android","iPhone","iPad","iPod","iPadmini","MSIE","Firefox","Opera","Safari","Chrome"],n=0;n<m.length;n++){var o=g.indexOf(m[n]);if(-1!=o){m=m[n];break}}switch(m){case"MSIE":a();break;case"Firefox":c();break;case"Safari":d();break;case"Opera":b();break;case"iPhone":e();break;case"iPad":e();break;case"iPod":e();break;case"iPadMini":e();break;case"Android":f()}return h.platform=l,h.name=i,h.ver=j,h.pf=k,h.bodyOffsetWidth=document.body.offsetWidth,h},c.prototype.start=function(){function a(){clearTimeout(b.out),b.out=setTimeout(function(){b.fn?b.fn():"",a()},b.time)}var b=this;a()},c.prototype.stop=function(){clearTimeout(this.out)},b.loop=c}),define("core/net",["./lang","./event"],function(a,b){"use strict";function c(){}function d(a){var b,c,d,e=a.target,f=e.ajaxSettings||{},g=f.dataType;if(e.readyState===e.DONE)if(b=e.status,c=e.responseText,f._timeoutTimer&&clearTimeout(f._timeoutTimer),e.status>=200&&e.status<300||304===e.status)try{switch(g.toLowerCase()){case"json":d=JSON.parse(c);break;case"xml":d=e.responseXML||e.responseText;break;default:d=c}h(e,d)}catch(j){throw i(e,"parsererror"),j}else i(e)}function e(a){a&&a.lengthComputable&&a.target.callback.call(a,Math.round(a.loaded/a.total))}function f(a){for(var b,c={url:a[0]},d=r.call(a,1),e=!1,f=!1;d.length;)switch(b=d.shift(),typeof b){case"string":c.data=b,f=!0;break;case"function":e?c.error=b:(c.success=b,e=!0);break;case"object":f?o.extend(c,b):(c.data=b,f=!0)}return c}function g(a,b,c){var d;switch((b||"").toLowerCase()){case"html":d="text/html";break;case"xml":d="text/xml";break;case"script":d="text/javascript, application/javascript";break;case"text":d="text/plain";break;default:d="application/json, text/javascript"}d+=", */*;q=0.01",a.setRequestHeader("Accept",d),"object"==typeof c&&o.each(c,function(b,c){a.setRequestHeader(c,b)})}function h(a,b){var c=[b,a.status,a];k(a).apply(a,c),a.resolve.apply(a,c)}function i(a,b){var c,d=j(a);b="string"==typeof b?b:a.statusText,c=[a,b,a.status],d.apply(a,c),a.reject.apply(a,c)}function j(a){var b=a.ajaxSettings;return b&&"function"==typeof b.error?b.error:s.onError||c}function k(a){var b=a.ajaxSettings;return b&&"function"==typeof b.success?b.success:s.onSuccess||c}var l,m,n,o=a("./lang"),p=a("./event").Promise,q=0,r=Array.prototype.slice,s={type:"get",dataType:"json",async:!0,timeout:0,username:null,password:null};b.ping=function(a,b){var c=new Image;c.src=n(b,a)},o.each(["get","post","put","delete"],function(a){b[a]=function(){return m(o.extend(f(arguments),{type:a}))}}),b.getJSON=function(){return m(o.extend(f(arguments),{dataType:"json"}))},b.getXML=function(){return m(o.extend(f(arguments),{dataType:"xml"}))},b.sendForm=function(){var a,b,c=arguments[0],d=r.call(arguments,1);if(c&&"FORM"===c.nodeName)return a=new FormData(c),d.unshift(c.action||location.href),b=o.extend(f(d),{type:c.method||"post",data:a}),m(b);throw new Error("HTMLFormElement expected")},b.sendFile=function(){var a=f(arguments);return m(o.extend(a,{type:"post",headers:{"X-File-Name":a.data.name}}))},l=b.jsonp=function(){var a=f(arguments),b={id:++q},c="baidu_jsonp_"+b.id,d=document.createElement("script"),e=b.ajaxSettings=o.extend({},s,a),g=e.url,j=b.promise=new p,k=j.always;return j.always=function(a){k.call(j,function(){a(b)
})},o.each(["done","fail","always","resolve","reject","then"],function(a){b[a]=o.bind(j[a],j)}),b.abort=function(){d.parentNode.removeChild(d),c in window&&(window[c]=null);try{delete window[c]}catch(a){}},window[c]=function(a){clearTimeout(e._timeoutTimer),b.abort(),h(b,a)},d.onerror=function(){b.abort(),i(b)},e.timeout>0&&(e._timeoutTimer=setTimeout(function(){b.abort(),i(b,"timeout")},1e3*e.timeout)),g=n(e.data,g),/[&?]callback=/.test(g)||(g=g+(g.indexOf("?")<0?"?":"&")+"callback=?"),d.src=g.replace("=?","="+c),document.head.appendChild(d),b},m=b.ajax=function(a){if("jsonp"===a.dataType)return l(a);var b,f,h,j=new XMLHttpRequest,k=j.upload,m=o.extend({},s,a),r=m.type=m.type.toLowerCase(),t=(m.crossDomain,m.data),u=!1,v=m.progress;return j.id=++q,f=j.promise=new p,h=f.always,f.always=function(a){h.call(f,function(){a(j)})},o.each(["done","fail","always","resolve","reject","then"],function(a){j[a]=o.bind(f[a],f)}),o.each(t,function(){u=!0}),u||"string"===o.type(t)||(delete m.data,t=m.data),"object"==typeof t&&"formdata"!==o.type(t)&&"file"!==o.type(t)&&("get"===r?(m.url=n(t,m.url),t=m.data=null):(b=new FormData,o.each(t,function(a,c){b.append(c,"array"===o.type(a)?a.join():a)}),t=m.data=b)),"function"==typeof v&&(k.callback=v,k.onprogress=e),m.timeout>0&&(m._timeoutTimer=setTimeout(function(){j.onreadystatechange=c,j.abort(),i(j,"timeout"),j=null},1e3*m.timeout)),j.open(r,m.url,m.async,m.username,m.password),g(j,m.dataType,m.headers),j.ajaxSettings=m,j.onreadystatechange=d,j.onerror=function(){return i(j)},j.send(t),j},n=b.param=function(a,b){var c,d=[];return o.each(a,function(a,b){d.push(encodeURIComponent(b)+"="+encodeURIComponent(a))}),c=d.join("&").replace(/%20/g,"+"),"string"==typeof b&&(c=b+(c.length>0?(b.indexOf("?")<0?"?":"&")+c:"")),c},b.setDefaultOptions=function(a){return o.each(a,function(a,c){switch(c){case"success":b.setDefaultSuccess(a);break;case"error":b.setDefaultError(a);break;default:s[c]=a}}),this},b.setDefaultSuccess=function(a){return s.onSuccess="function"==typeof a?a:null,this},b.setDefaultError=function(a){return s.onError="function"==typeof a?a:null,this}}),define("core/page",[],function(a,b){"use strict";function c(a){if(h){var b=d(a.oldURL),c=d(a.newURL);if(g&&b.page===c.page)return void g.show(c.state);if(!g&&b.page){var f=document.getElementById("page-"+b.page);f&&(f.style.display="none")}e(c.page,c.state)}}function d(a){a=a||"";for(var b=window.decodeURIComponent,c=a.indexOf("#/"),d=c>=0?a.slice(c+2):"",e=d.indexOf("?"),f=e>=0?d.slice(e+1):"",g=e>=0?d.slice(0,e):d,h=f.split("!!"),i={},j=0;j<h.length;j++){var k=h[j].replace(/\+/g,"%20"),l=k.indexOf("="),m=~l?k.slice(0,l):k,n=~l?k.slice(l+1):"";try{m=b(m),n=b(n)}catch(o){console.log(o)}i[m]=n}return{url:a,page:g,state:i}}function e(a,b){return m?m(b):"",""===a?void f():void seajs.use("page/"+a,function(a){a?(g&&g.hide&&(k?k(b):"",g.hide()),a.show&&(l?l(b):"",a.show(b)),g=a):f()})}var f,g,h=!1,i="onhashchange"in window,j="addEventListener"in window;b.start=function(a){h||(j?window.addEventListener("hashchange",c,!1):i&&(window.onhashchange=c),h=!0,"string"==typeof a&&(f=function(){location.replace("#/"+a)}),c({newURL:window.location.href}))};var k,l,m;b.onHide=function(a){k=a},b.onShow=function(a){l=a},b.onChange=function(a){m=a}}),define("core/promise",["core/event","core/lang"],function(a,b,c){"use strict";var d=a("core/event");c.exports=d.Promise});var Zepto=function(){function a(a){return null==a?String(a):V[W.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return a instanceof Array}function h(a){return"number"==typeof a.length}function i(a){return E.call(a,function(a){return null!=a})}function j(a){return a.length>0?y.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in H?H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||I[k(a)]?b:b+"px"}function n(a){var b,c;return G[a]||(b=F.createElement(a),F.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),G[a]=c),G[a]}function o(a){return"children"in a?D.call(a.children):y.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b,c){for(x in b)c&&(f(b[x])||g(b[x]))?(f(b[x])&&!f(a[x])&&(a[x]={}),g(b[x])&&!g(a[x])&&(a[x]=[]),p(a[x],b[x],c)):b[x]!==w&&(a[x]=b[x])}function q(a,b){return null==b?y(a):y(a).filter(b)}function r(a,c,d,e){return b(c)?c.call(a,d,e):c}function s(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function t(a,b){var c=a.className,d=c&&c.baseVal!==w;return b===w?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function u(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:/^0/.test(a)||isNaN(b=Number(a))?/^[\[\{]/.test(a)?y.parseJSON(a):a:b):a}catch(c){return a}}function v(a,b){b(a);for(var c in a.childNodes)v(a.childNodes[c],b)}var w,x,y,z,A,B,C=[],D=C.slice,E=C.filter,F=window.document,G={},H={},I={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},J=/^\s*<(\w+|!)[^>]*>/,K=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,N=/([A-Z])/g,O=["val","css","html","text","data","width","height","offset"],P=["after","prepend","before","append"],Q=F.createElement("table"),R=F.createElement("tr"),S={tr:F.createElement("tbody"),tbody:Q,thead:Q,tfoot:Q,td:R,th:R,"*":F.createElement("div")},T=/complete|loaded|interactive/,U=/^[\w-]*$/,V={},W=V.toString,X={},Y=F.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};return X.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=Y).appendChild(a),d=~X.qsa(e,b).indexOf(a),f&&Y.removeChild(a),d},A=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},B=function(a){return E.call(a,function(b,c){return a.indexOf(b)==c})},X.fragment=function(a,b,c){var d,e,g;return K.test(a)&&(d=y(F.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(L,"<$1></$2>")),b===w&&(b=J.test(a)&&RegExp.$1),b in S||(b="*"),g=S[b],g.innerHTML=""+a,d=y.each(D.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=y(d),y.each(c,function(a,b){O.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},X.Z=function(a,b){return a=a||[],a.__proto__=y.fn,a.selector=b||"",a},X.isZ=function(a){return a instanceof X.Z},X.init=function(a,c){var d;if(!a)return X.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&J.test(a))d=X.fragment(a,RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=X.qsa(F,a)}else{if(b(a))return y(F).ready(a);if(X.isZ(a))return a;if(g(a))d=i(a);else if(e(a))d=[a],a=null;else if(J.test(a))d=X.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=X.qsa(F,a)}}return X.Z(d,a)},y=function(a,b){return X.init(a,b)},y.extend=function(a){var b,c=D.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){p(a,c,b)}),a},X.qsa=function(a,b){var c,e="#"==b[0],f=!e&&"."==b[0],g=e||f?b.slice(1):b,h=U.test(g);return d(a)&&h&&e?(c=a.getElementById(g))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:D.call(h&&!e?f?a.getElementsByClassName(g):a.getElementsByTagName(b):a.querySelectorAll(b))},y.contains=function(a,b){return a!==b&&a.contains(b)},y.type=a,y.isFunction=b,y.isWindow=c,y.isArray=g,y.isPlainObject=f,y.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},y.inArray=function(a,b,c){return C.indexOf.call(b,a,c)},y.camelCase=A,y.trim=function(a){return null==a?"":String.prototype.trim.call(a)},y.uuid=0,y.support={},y.expr={},y.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return j(f)},y.each=function(a,b){var c,d;if(h(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},y.grep=function(a,b){return E.call(a,b)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()}),y.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(D.apply(this,arguments))},ready:function(a){return T.test(F.readyState)&&F.body?a(y):F.addEventListener("DOMContentLoaded",function(){a(y)},!1),this},get:function(a){return a===w?D.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return C.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):y(E.call(this,function(b){return X.matches(b,a)}))},add:function(a,b){return y(B(this.concat(y(a,b))))},is:function(a){return this.length>0&&X.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==w)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&b(a.item)?D.call(a):y(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return e(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:y(a)},find:function(a){var b,c=this;return b="object"==typeof a?y(a).filter(function(){var a=this;return C.some.call(c,function(b){return y.contains(b,a)})}):1==this.length?y(X.qsa(this[0],a)):this.map(function(){return X.qsa(this,a)})},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=y(a));c&&!(e?e.indexOf(c)>=0:X.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=y.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return q(b,a)},parent:function(a){return q(B(this.pluck("parentNode")),a)},children:function(a){return q(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return D.call(this.childNodes)})},siblings:function(a){return q(this.map(function(a,b){return E.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=y(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){y(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){y(this[0]).before(a=y(a));for(var b;(b=a.children()).length;)a=b.first();y(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=y(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===w?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;y(this).empty().append(r(this,a,b,c))})},text:function(a){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a===w?"":""+a})},attr:function(a,b){var c;return"string"==typeof a&&b===w?0==this.length||1!==this[0].nodeType?w:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(e(a))for(x in a)s(this,x,a[x]);else s(this,a,r(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&s(this,a)})},prop:function(a,b){return a=Z[a]||a,b===w?this[0]&&this[0][a]:this.each(function(c){this[a]=r(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+a.replace(N,"-$1").toLowerCase(),b);return null!==c?u(c):w},val:function(a){return 0===arguments.length?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=r(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=y(this),d=r(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d=this[0],e=getComputedStyle(d,"");if(!d)return;if("string"==typeof b)return d.style[A(b)]||e.getPropertyValue(b);if(g(b)){var f={};return y.each(g(b)?b:[b],function(a,b){f[b]=d.style[A(b)]||e.getPropertyValue(b)}),f}}var h="";if("string"==a(b))c||0===c?h=k(b)+":"+m(b,c):this.each(function(){this.style.removeProperty(k(b))});else for(x in b)b[x]||0===b[x]?h+=k(x)+":"+m(x,b[x])+";":this.each(function(){this.style.removeProperty(k(x))});return this.each(function(){this.style.cssText+=";"+h})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?C.some.call(this,function(a){return this.test(t(a))},l(a)):!1},addClass:function(a){return a?this.each(function(b){z=[];var c=t(this),d=r(this,a,b,c);d.split(/\s+/g).forEach(function(a){y(this).hasClass(a)||z.push(a)},this),z.length&&t(this,c+(c?" ":"")+z.join(" "))}):this},removeClass:function(a){return this.each(function(b){return a===w?t(this,""):(z=t(this),r(this,a,b,z).split(/\s+/g).forEach(function(a){z=z.replace(l(a)," ")}),t(this,z.trim()),void 0)})},toggleClass:function(a,b){return a?this.each(function(c){var d=y(this),e=r(this,a,c,t(this));e.split(/\s+/g).forEach(function(a){(b===w?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===w?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===w?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=M.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(y(a).css("margin-top"))||0,c.left-=parseFloat(y(a).css("margin-left"))||0,d.top+=parseFloat(y(b[0]).css("border-top-width"))||0,d.left+=parseFloat(y(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!M.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});y.fn[a]=function(e){var f,g=this[0];return e===w?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=y(this),g.css(a,r(this,e,b,g[a]()))})}}),P.forEach(function(b,c){var d=c%2;y.fn[b]=function(){var b,e,f=y.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:X.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null,f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return y(a).remove();v(e.insertBefore(a,b),function(a){null!=a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type)&&!a.src&&window.eval.call(window,a.innerHTML)})})})},y.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return y(a)[b](this),this}}),X.Z.prototype=y.fn,X.uniq=B,X.deserializeValue=u,y.zepto=X,y}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)!x.test(b)&&a[b]!==l&&(c[b]=a[b]);return j(c,a)}var l,m=(a.zepto.qsa,1),n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){if(o(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if(p(d))return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(!p(c)&&!o(e)&&e!==!1&&(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(!p(c)&&!o(d)&&d!==!1&&(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a,b){function c(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function d(a){return e?e+a:a.toLowerCase()}var e,f,g,h,i,j,k,l,m,n,o="",p={Webkit:"webkit",Moz:"",O:"o"},q=window.document,r=q.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,t={};a.each(p,function(a,c){return r.style[a+"TransitionProperty"]!==b?(o="-"+a.toLowerCase()+"-",e=c,!1):void 0}),f=o+"transform",t[g=o+"transition-property"]=t[h=o+"transition-duration"]=t[j=o+"transition-delay"]=t[i=o+"transition-timing-function"]=t[k=o+"animation-name"]=t[l=o+"animation-duration"]=t[n=o+"animation-delay"]=t[m=o+"animation-timing-function"]="",a.fx={off:e===b&&r.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:o,transitionEnd:d("TransitionEnd"),animationEnd:d("AnimationEnd")},a.fn.animate=function(c,d,e,f,g){return a.isFunction(d)&&(f=d,e=b,d=b),a.isFunction(e)&&(f=e,e=b),a.isPlainObject(d)&&(e=d.easing,f=d.complete,g=d.delay,d=d.duration),d&&(d=("number"==typeof d?d:a.fx.speeds[d]||a.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(c,d,e,f,g)},a.fn.anim=function(d,e,o,p,q){var r,u,v,w={},x="",y=this,z=a.fx.transitionEnd,A=!1;if(e===b&&(e=a.fx.speeds._default/1e3),q===b&&(q=0),a.fx.off&&(e=0),"string"==typeof d)w[k]=d,w[l]=e+"s",w[n]=q+"s",w[m]=o||"linear",z=a.fx.animationEnd;else{u=[];for(r in d)s.test(r)?x+=r+"("+d[r]+") ":(w[r]=d[r],u.push(c(r)));x&&(w[f]=x,u.push(f)),e>0&&"object"==typeof d&&(w[g]=u.join(", "),w[h]=e+"s",w[j]=q+"s",w[i]=o||"linear")}return v=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(z,v)}else a(this).unbind(z,v);A=!0,a(this).css(t),p&&p.call(this)},e>0&&(this.bind(z,v),setTimeout(function(){A||v.call(y)},1e3*e+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=e&&setTimeout(function(){y.each(function(){v.call(this)})},0),this},r=null}(Zepto),function(a){function b(b,d){var i=b[h],j=i&&e[i];if(void 0===d)return j||c(b);if(j){if(d in j)return j[d];var k=g(d);if(k in j)return j[k]}return f.call(a(b),d)}function c(b,c,f){var i=b[h]||(b[h]=++a.uuid),j=e[i]||(e[i]=d(b));return void 0!==c&&(j[g(c)]=f),j}function d(b){var c={};return a.each(b.attributes||i,function(b,d){0==d.name.indexOf("data-")&&(c[g(d.name.replace("data-",""))]=a.zepto.deserializeValue(d.value))}),c}var e={},f=a.fn.data,g=a.camelCase,h=a.expando="Zepto"+ +new Date,i=[];a.fn.data=function(d,e){return void 0===e?a.isPlainObject(d)?this.each(function(b,e){a.each(d,function(a,b){c(e,a,b)})}):0==this.length?void 0:b(this[0],d):this.each(function(){c(this,d,e)})},a.fn.removeData=function(b){return"string"==typeof b&&(b=b.split(/\s+/)),this.each(function(){var c=this[h],d=c&&e[c];d&&a.each(b||d,function(a){delete d[b?g(this):a]})})},["remove","empty"].forEach(function(b){var c=a.fn[b];a.fn[b]=function(){var a=this.find("*");return"remove"===b&&(a=a.add(this)),a.removeData(),c.call(this)}})}(Zepto),function(a){function b(b){return b=a(b),!(!b.width()&&!b.height()||"none"===b.css("display"))}function c(a,b){a=a.replace(/=#\]/g,'="#"]');var c,d,e=h.exec(a);if(e&&e[2]in g&&(c=g[e[2]],d=e[3],a=e[1],d)){var f=Number(d);d=isNaN(f)?d.replace(/^["']|["']$/g,""):f}return b(a,c,d)}var d=a.zepto,e=d.qsa,f=d.matches,g=a.expr[":"]={visible:function(){return b(this)?this:void 0},hidden:function(){return b(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(a){return 0===a?this:void 0},last:function(a,b){return a===b.length-1?this:void 0},eq:function(a,b,c){return a===c?this:void 0},contains:function(b,c,d){return a(this).text().indexOf(d)>-1?this:void 0},has:function(a,b,c){return d.qsa(this,c).length?this:void 0}},h=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),i=/^\s*>/,j="Zepto"+ +new Date;d.qsa=function(b,f){return c(f,function(c,g,h){try{var k;!c&&g?c="*":i.test(c)&&(k=a(b).addClass(j),c="."+j+" "+c);var l=e(b,c)}catch(m){throw console.error("error performing selector: %o",f),m}finally{k&&k.removeClass(j)}return g?d.uniq(a.map(l,function(a,b){return g.call(a,b,l,h)})):l})},d.matches=function(a,b){return c(b,function(b,c,d){return!(b&&!f(a,b)||c&&c.call(a,null,d)!==a)})}}(Zepto),define("core/selector",[],function(a,b,c){"use strict";c.exports=Zepto}),define("core/time",[],function(){"use strict";window.time={},time.diff=function(a,b){var c=b?b:(new Date).getTime(),d=c-a,e="",f=6e4,g=60*f,h=24*g,i=30*h,j=12*i,k=d/j,l=d/i,m=d/(7*h),n=d/h,o=d/g,p=d/f;return e=k>=1?parseInt(k)+"年前":l>=1?parseInt(l)+"个月前":m>=1?parseInt(m)+"周前":n>=1?parseInt(n)+"天前":o>=1?parseInt(o)+"个小时前":p>=1?parseInt(p)+"分钟前":"刚刚"},time.format=function(a,b){function c(){var a=e.getFullYear(),b=e.getMonth()+1,c=e.getDate();return a+"-"+b+"-"+c}function d(){var a=e.getHours(),b=e.getMinutes(),c=e.getSeconds();return a+":"+b+":"+c}var a=a+"";a=1*a.replace(/000$/,""),a*=1e3;var e=new Date(a),f="";return b?("date"==b&&(f=year+"-"+month+"-"+date),"time"==b&&(f=hour+":"+minute+":"+second)):f=c()+" "+d(),f}}),ejs=function(){function a(b){if("fs"==b)return{};if("path"==b)return{};var c=a.resolve(b),d=a.modules[c];if(!d)throw new Error('failed to require "'+b+'"');return d.exports||(d.exports={},d.call(d.exports,d,d.exports,a.relative(c))),d.exports}return a.modules={},a.resolve=function(b){var c=b,d=b+".js",e=b+"/index.js";return a.modules[d]&&d||a.modules[e]&&e||c},a.register=function(b,c){a.modules[b]=c},a.relative=function(b){return function(c){if("."!=c.substr(0,1))return a(c);var d=b.split("/"),e=c.split("/");d.pop();for(var f=0;f<e.length;f++){var g=e[f];".."==g?d.pop():"."!=g&&d.push(g)}return a(d.join("/"))}},a.register("ejs.js",function(a,b,c){function d(a){return a.substr(1).split("|").reduce(function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"filters."+d+"("+a+e+")"})}function e(a,b,c,d){var e=b.split("\n"),f=Math.max(d-3,0),g=Math.min(e.length,d+3),h=e.slice(f,g).map(function(a,b){var c=b+f+1;return(c==d?" >> ":"    ")+c+"| "+a}).join("\n");throw a.path=c,a.message=(c||"ejs")+":"+d+"\n"+h+"\n\n"+a.message,a}function f(a,b){var c=k(i(b),a),d=j(a);return d||(c+=".ejs"),c}var g=c("./utils"),h=c("path"),i=h.dirname,j=h.extname,k=h.join,l=c("fs"),m=l.readFileSync,n=b.filters=c("./filters"),o={};b.clearCache=function(){o={}};var p=(b.parse=function(a,c){var c=c||{},e=c.open||b.open||"<%",g=c.close||b.close||"%>",h=c.filename,i=c.compileDebug!==!1,j="";j+="var buf = [];",!1!==c._with&&(j+="\nwith (locals || {}) { (function(){ "),j+="\n buf.push('";for(var k=1,l=!1,n=0,o=a.length;o>n;++n){var p=a[n];if(a.slice(n,e.length+n)==e){n+=e.length;var q,r,s=(i?"__stack.lineno=":"")+k;switch(a[n]){case"=":q="', escape(("+s+", ",r=")), '",++n;break;case"-":q="', ("+s+", ",r="), '",++n;break;default:q="');"+s+";",r="; buf.push('"}var t=a.indexOf(g,n),u=a.substring(n,t),v=n,w=null,x=0;if("-"==u[u.length-1]&&(u=u.substring(0,u.length-2),l=!0),0==u.trim().indexOf("include")){var y=u.trim().slice(7).trim();if(!h)throw new Error("filename option is required for includes");var z=f(y,h);w=m(z,"utf8"),w=b.parse(w,{filename:z,_with:!1,open:e,close:g,compileDebug:i}),j+="' + (function(){"+w+"})() + '",u=""}for(;~(x=u.indexOf("\n",x));)x++,k++;":"==u.substr(0,1)&&(u=d(u)),u&&(u.lastIndexOf("//")>u.lastIndexOf("\n")&&(u+="\n"),j+=q,j+=u,j+=r),n+=t-v+g.length-1}else"\\"==p?j+="\\\\":"'"==p?j+="\\'":"\r"==p||("\n"==p?l?l=!1:(j+="\\n",k++):j+=p)}return j+=!1!==c._with?"'); })();\n} \nreturn buf.join('');":"');\nreturn buf.join('');"},b.compile=function(a,c){c=c||{};var d=c.escape||g.escape,f=JSON.stringify(a),h=c.compileDebug!==!1,i=c.client,j=c.filename?JSON.stringify(c.filename):"undefined";a=h?["var __stack = { lineno: 1, input: "+f+", filename: "+j+" };",e.toString(),"try {",b.parse(a,c),"} catch (err) {","  rethrow(err, __stack.input, __stack.filename, __stack.lineno);","}"].join("\n"):b.parse(a,c),c.debug&&console.log(a),i&&(a="escape = escape || "+d.toString()+";\n"+a);try{var k=new Function("locals, filters, escape, rethrow",a)}catch(l){throw"SyntaxError"==l.name&&(l.message+=c.filename?" in "+j:" while compiling ejs"),l}return i?k:function(a){return k.call(this,a,n,d,e)}});b.render=function(a,b){var c,b=b||{};if(b.cache){if(!b.filename)throw new Error('"cache" option requires "filename".');c=o[b.filename]||(o[b.filename]=p(a,b))}else c=p(a,b);return b.__proto__=b.locals,c.call(b.scope,b)},b.renderFile=function(a,c,d){var e=a+":string";"function"==typeof c&&(d=c,c={}),c.filename=a;var f;try{f=c.cache?o[e]||(o[e]=m(a,"utf8")):m(a,"utf8")}catch(g){return void d(g)}d(null,b.render(f,c))},b.__express=b.renderFile,c.extensions?c.extensions[".ejs"]=function(a,b){b=b||a.filename;var c={filename:b,client:!0},d=l.readFileSync(b).toString(),e=p(d,c);a._compile("module.exports = "+e.toString()+";",b)}:c.registerExtension&&c.registerExtension(".ejs",function(a){return p(a,{})})}),a.register("filters.js",function(a,b){b.first=function(a){return a[0]},b.last=function(a){return a[a.length-1]},b.capitalize=function(a){return a=String(a),a[0].toUpperCase()+a.substr(1,a.length)},b.downcase=function(a){return String(a).toLowerCase()},b.upcase=function(a){return String(a).toUpperCase()},b.sort=function(a){return Object.create(a).sort()},b.sort_by=function(a,b){return Object.create(a).sort(function(a,c){return a=a[b],c=c[b],a>c?1:c>a?-1:0})},b.size=b.length=function(a){return a.length},b.plus=function(a,b){return Number(a)+Number(b)},b.minus=function(a,b){return Number(a)-Number(b)},b.times=function(a,b){return Number(a)*Number(b)},b.divided_by=function(a,b){return Number(a)/Number(b)},b.join=function(a,b){return a.join(b||", ")},b.truncate=function(a,b,c){return a=String(a),a.length>b&&(a=a.slice(0,b),c&&(a+=c)),a},b.truncate_words=function(a,b){var a=String(a),c=a.split(/ +/);return c.slice(0,b).join(" ")},b.replace=function(a,b,c){return String(a).replace(b,c||"")},b.prepend=function(a,b){return Array.isArray(a)?[b].concat(a):b+a},b.append=function(a,b){return Array.isArray(a)?a.concat(b):a+b},b.map=function(a,b){return a.map(function(a){return a[b]})},b.reverse=function(a){return Array.isArray(a)?a.reverse():String(a).split("").reverse().join("")},b.get=function(a,b){return a[b]},b.json=function(a){return JSON.stringify(a)
}}),a.register("utils.js",function(a,b){b.escape=function(a){return String(a).replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}}),a("ejs")}(),define("core/tpl",[],function(a,b){"use strict";b.render=ejs.render,b.compile=ejs.compile}),define("page/add_product_list",["tpl/add_product_list.tpl"],function(a,b){"use strict";var c=a("tpl/add_product_list.tpl"),d=a("head2"),e=$(document),f="#page-add-product-list",g=$(f);e.on("click",f+" .addPL-item",function(){var a=$(this),b=common.query_box;b.ok=function(){function b(b){200==b.status?(a.remove(),agent.trigger("home:filterBar:update")):c(),common.alert(b.error_msg)}function c(){common.alert(C.alert_aet)}common.alert(C.alert_post),net.ajax({type:"post",url:C.api.custom_made+"&op=del&uid="+common.getUserInfo().uid,data:{cid:a.attr("cid")},isOnFront:0,success:b,error:c})},b.show("您确定要删除该项吗?")}),agent.on("addProductList:update",function(){function a(a){if(200==a.status){var e=lang.extend(a,{head2:{title:"已关注的行业",right:'<div data-href="#/sel_product"  class="j-href fa fa-plus addPL-add"></div>'}});g.html(""),g.html(tpl.render(d+c,e))}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.attention,success:a,error:b})}),agent.trigger("addProductList:update"),b.show=function(){g.show()},b.hide=function(){g.hide()}}),define("page/blank",[],function(a,b){"use strict";b.show=function(){},b.hide=function(){}}),define("page/company",["tpl/company.tpl"],function(a,b){"use strict";var c,d,e,f,g,h,i=a("tpl/company.tpl"),j=a("head2"),k=a("banner"),l=$(document),m=$("#page-company");l.on("click",".company-tel",function(){var a=common.query_box,b=$('<div class="company-tel-list"></div>'),c="";f._tel.forEach(function(a){c+='<a href="tel:'+a+'" class="company-tel-li">电话: '+a+"</a>"}),a.ok=function(){},a.show(b.append(c)[0].outerHTML)}),agent.on("company:update",function(){function a(a){if(e=a.stores,f=a,f._tel=[],a.stores.c_mobile&&f._tel.push(a.stores.c_mobile),a.stores.c_telephone&&f._tel.push(a.stores.c_telephone),200==a.status){h=a;var d=lang.extend(a,{head2:{title:e.name}});m.html(tpl.render(j+i,d)),e.album_list.length>0&&setTimeout(function(){var a=document.body.clientWidth>1004?$("#ibody").width():!1;document.body.clientWidth>1004,c=new k("company-ad",{clientWidth:a})},100),agent.trigger("wx_set_share")}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.subject,data:{sid:d},success:a,error:b})}),agent.on("wx_set_share",function(){if(g){var a=h.stores;common.wx_set_share({title:a.name,desc:a.c_address,link:location.href,imgUrl:a.album_list[0].filename||C.noface1})}}),b.show=function(a){d=a.sid,m.show(),g=!0,agent.trigger("company:update")},b.hide=function(){m.hide(),g=!1,common.clearHTML(m)}}),define("page/company_list",["tpl/company_list.tpl"],function(a,b){"use strict";var c,d,e=a("tpl/company_list.tpl"),f=a("tpl/company_item.tpl"),g=a("head2"),h=a("mList"),i={},j=1,k={},l=a("data"),m=$("#page-company-list");k=new l("sid"),agent.on("company_list",function(a,b){function l(d){if(console.log("subject_list",d),200==d.status){var l=k.add(d.data),p=lang.extend(d,{head2:{title:"更多公司"},tpl_company_item:f});"init"==a?(m.html(tpl.render(g+e,p)),c=m.find(".company-list-main"),i=new h("company-list-wp",{vScrollbar:!0,id:"company_list",onUpdate:function(a){i.end=a,agent.trigger("company_list","update",a)},onLoadMore:function(a){i.loadMore_end=a,j++,agent.trigger("company_list","loadmore",a)}})):l.length>0?c[o](tpl.render(f,{companys:l})):common.alert(C.alert_noData),i.iScroll.refresh()}else n();b?b():""}function n(){common.alert(C.aet)}var o;o="update"==a?"prepend":"loadmore"==a?"append":"append",net.ajax({url:C.api.subject_list,data:lang.extend(d,{page:"update"==a?0:j,page_count:10}),isOnFront:0,success:l,error:n})}),b.show=function(a){d={catid:a.catid,sub_catids:a.sub_catids,typeid:a.typeid,aid:C.city.aid,amap_lat:a.amap_lat,amap_lng:a.amap_lng},j=1,m.show(),agent.trigger("company_list","init"),k.remove()},b.hide=function(){m.hide(),common.clearHTML(m)}}),define("page/company_zs",["tpl/company_zs.tpl","widget/banner"],function(a,b){"use strict";var c,d,e=a("tpl/company_zs.tpl"),f=a("head2"),g=(a("widget/banner"),$("#page-company-zs"));agent.on("company_zs:init",function(){function a(a){if(200==a.status){var c=lang.extend(a,{head2:{title:"授权详情"}});g.html(tpl.render(f+e,c))}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.subject_brand+"&op=get",type:"post",data:{sid:c,catid:d},success:a,error:b})}),b.show=function(a){c=a.sid,d=a.catid,g.show(),agent.trigger("company_zs:init")},b.hide=function(){g.hide(),common.clearHTML(g)}}),define("page/dyn",["tpl/dyn.tpl"],function(a,b){"use strict";function c(){setTimeout(function(){n.$root[0].mlist.iScroll.refresh()},700)}var d,e,f,g=a("tpl/dyn.tpl"),h=$(document),i=a("mList"),j=a("data"),k=!1,l=a("tpl/dyn_content_item.tpl"),m=$("#page-dyn");common.loadShow(),m.append(tpl.render(g)),d=m.find(".dyn-main"),e=m.find(".dyn-head-tab"),f=d.find(".dyn-list"),f.each(function(a){var b=f.eq(a);b.data("page",1),b[0].datas=new j("did")});var n;h.on("click","#page-dyn .dyn-head-tab",function(){agent.trigger("head-tab:click",$(this).index())});var o=0;h.on("keyup","#page-dyn .dyn-sh-input",function(){clearTimeout(o),o=setTimeout(function(){agent.trigger("dyn:sh:check")},100)}),agent.on("dyn:sh:check",function(){var a,b,d=m.find(".dyn-sh-input"),e=d.val();(e||k)&&(a=n.$root[0].datas,b=[],a.list.forEach(function(a){var c=a.data,d=c.all_type_name+"\n"+c.content+"\n"+c.realname,f=new RegExp(e,"g");f.test(d)&&b.push(c)}),k=e?!0:!1,n.$root.find(".dyn-main-scroll").html(tpl.render(l,{rows:b})),c())}),agent.on("head-tab:click",function(a){e.removeClass("active"),e.eq(a).addClass("active");var b,c;0==a?(b="",c="dyn_all"):(b=222,c="dyn_my"),n={$root:f.eq(a),catid:b,index:a,mid:c},f.removeClass("active"),f.eq(a).addClass("active"),n.$root.data("init")||agent.trigger("dyn")}),agent.trigger("head-tab:click",0),agent.on("dyn",function(a,b){function c(c){if(200==c.status){var g=f[0].datas.add(c.rows);c.realname||(c.realname=c.username);var h=f.find(".dyn-main-scroll"),j=[];g.forEach(function(a){j.push(a.data)});var m=$(tpl.render(l,{rows:j,pageType:"dyn"}));f.data("init")||(h.html(m),common.loadHide(),c.rows.length>0&&(f[0].mlist=new i(f[0],{id:"dyn",onUpdate:function(a){f[0].mlist.end=a,agent.trigger("dyn","update",a)},onLoadMore:function(a){f[0].mlist.loadMore_end=a;var b=f.data("page");f.data("page",++b),agent.trigger("dyn","loadmore",a)}}),f.data("init","1"))),a&&(g.length>0?(k&&(h.html(""),k=!1),h[e](m)):common.alert(C.alert_noData)),f[0].mlist&&m.find(".dyn-content-r img").last().load(function(){f[0].mlist.iScroll.refresh()}),setTimeout(function(){agent.trigger("dyn:sh:check")},20)}else d();b?b():""}function d(){common.alert(C.aet),b?b():""}var e;e="update"==a?"prepend":"append";var f=n.$root;net.ajax({url:C.api.get_demand_list,data:{page:"update"==a?0:f.data("page"),page_count:"10",aid:C.city.aid,catid:n.catid},isOnFront:0,success:c,error:d})}),agent.trigger("dyn"),agent.on("dyn_item:del",function(a){m.find('.dyn-item[did="'+a+'"]').remove(),c()}),b.show=function(){m.show(),common.navAct(0),setTimeout(function(){d.show(),c()},20)},b.hide=function(){m.hide(),setTimeout(function(){d.hide()},20),common.navHide()}}),define("page/dyn_post",["tpl/dyn_post.tpl","widget/baiduMap"],function(a,b){"use strict";function c(){p={aid:s.aid,map_lat:t.lat||"0.0",map_lng:t.lng||"0.0"}}function d(a){function b(){g.text(common.comp_address())}common.alert_w.show({text:C.alert_zzhqdlwz}),h=new q,h.init(function(){h.getGeo(function(a){var c=a.data,d=c.address,e=c.point;lang.extend(p,{map_lat:e.lat,map_lng:e.lng}),common.setUserInfo({city:d.city,point:c.point,area:d.district,street:d.street,street_number:d.street_number}),common.alert_w.hide(),b()})}),agent.trigger("dpp-popup:notClass"),a&&!a.currentTarget?a():""}var e,f,g,h,i,j,k=a("tpl/dyn_post.tpl"),l=a("head2"),m=$(document),n=!1,o=a("form"),p={},q=a("widget/baiduMap"),r=$("#page-dyn-post"),s=common.getUserInfo(),t=s.point||{};t?c():d(c),agent.on("reg:init",function(){r.append(tpl.render(l+k,{head2:{title:"发布需求"}})),e=r.find(".dp-content"),f=r.find(".dpp-popup"),g=r.find(".dp-area-name"),j=r.find(".dyn-post-img"),n=!0,f.hide(),setTimeout(function(){i=new common.upload.init({$root:r.find(".dp-content-box"),input:"#page-dyn-post .kw-upload-file",box:"#page-sel-head .kw-upload-img",maxNum:3,onFront:function(){j.show()},imgCut:{dw:320,dh:null}})},50)});var u=0;agent.on("dpp-popup:notClass",function(){common.maskHide(),clearTimeout(u),u=setTimeout(function(){f.hide()},300),f.removeClass("active")}),m.on("input",".dp-content",function(){var a=this.style;a.height="auto",a.height=this.scrollHeight+"px"}),m.on("click",".dp-position",function(){common.maskShow(),f.show(),setTimeout(function(){f.addClass("active")},20)}),m.on("click",".dpp-popup-del",function(){lang.extend(p,{aid:""}),g.text("未知"),agent.trigger("dpp-popup:notClass")}),m.on("click",".dpp-popup-reget",d),m.on("click",".dpp-popup-cancel",function(){agent.trigger("dpp-popup:notClass")}),m.on("click",".dyn-post-ok",function(){function a(a){a&&200==a.status&&(location.hash="#/dyn",agent.trigger("dyn","update")),common.alert(a.error_msg||C.alert_aet)}function b(){common.alert(C.alert_aet)}var c=o.getFormData(r.find(".dp-content-box"));c[""]=void 0,lang.extend(p,c,{d_address:g.text()});var d=i.rst;if(d&&d.length>0&&d.forEach(function(a,b){p["demand_img"+b]=a}),!p.content)return void common.alert(C.alert_qsrnr);common.alert(C.alert_post);try{net.ajax({url:C.api.demand+"&op=add",type:"post",data:p,isCache:0,isOnFront:0,success:a,error:b})}catch(e){b()}}),agent.trigger("reg:init"),b.show=function(){r.show(),n&&common.loadHide()},b.hide=function(){r.hide()}}),define("page/forget_pw",["tpl/forget_pw.tpl"],function(a,b){"use strict";var c,d=a("tpl/forget_pw.tpl"),e=a("head2"),f=$(document),g=a("form"),h=$("#page-forget-password");agent.on("forget_pw:init",function(){h.append(tpl.render(e+d,{head2:{title:"找回密码"}})),c=h.find(".forget-pw-main")}),f.on("click",".forget-pw-confirm",function(){function a(a){a&&200==a.status&&(common.setUserInfo({password:d.password}),location.hash="#/login"),common.alert(a.error_msg)}function b(){common.alert(C.alert_aet)}var d=g.getFormData(c);if(""==d.mobile)return void common.alert("请输入手机号码..");if(""==d.password)return void common.alert("请输入密码..");if(""==d.serial)return void common.alert("请输入验证码..");common.alert(C.alert_post);try{net.ajax({url:C.api.get_password+"&op=update_password",type:"post",data:d,isCache:0,success:a,error:b})}catch(e){b()}}),f.on("click",".forget-pw-getCode",function(){function a(a){a&&200==a.status,common.alert(a.error_msg)}function b(){common.alert(C.alert_aet)}var d=g.getFormData(c);common.alert(C.alert_post);try{net.ajax({url:C.api.get_password+"&op=send_verify",type:"post",data:{mobile:d.mobile},noCache:1,success:a,error:b})}catch(e){b()}}),agent.trigger("forget_pw:init"),b.show=function(){h.show(),common.loadHide()},b.hide=function(){h.hide()}}),define("page/home",["tpl/home.tpl","widget/filterBar"],function(a,b){"use strict";function c(){function a(a){if(200==a.status){var c,d=[];d.push({name:"产品",sub:a.my_attention}),d.push({name:"品牌",sub:a.my_attention[0].sub_categories}),d.push({name:"类型",sub:a.my_c_type}),d[2].sub.forEach(function(a){a.name=a.typename,a.catid=a.typeid}),c=a.my_category.catid,a.my_attention.forEach(function(a,b){c===a.catid&&(l=b)}),f=new o($("#home-filterBar"),d,l)}else b()}function b(){common.alert(C.alert_aet)}try{net.ajax({url:C.api.attention,data:{page:"home"},success:a,error:b})}catch(c){b()}}function d(){function a(a){if(200==a.status){i.prepend(tpl.render(p,a));var c=$("#home-ad img").eq(0);c.on("load",function(){e(),c.off("load")}),j=new r("home-ad",{snapThreshold:50})}else b()}function b(){common.alert(C.alert_aet)}net.ajax({url:C.api.get_adv,data:{width:640,type:0},success:a,error:b})}function e(){setTimeout(function(){u.iScroll.refresh()},500)}var f,g,h,i,j,k,l,m,n=a("tpl/home.tpl"),o=a("widget/filterBar.js"),p=a("tpl/home_ad.tpl"),q=a("data"),r=a("banner"),s=$(document),t=$("#page-home");t.append(tpl.render(n)),g=t.find("#home-expert-main"),h=g.find("#home-expert-wrap"),i=t.find(".content-item-company"),k=t.find(".home-company-main"),c(),d();var u,v=a("mList");u=new v("home-content",{vScrollbar:!0,id:"home_expert",onScrollMove:function(){},onUpdate:function(a){u.end=a,agent.trigger("home:expert:update",{render_fn:"prepend",page:0},a)},onLoadMore:function(a){u.loadMore_end=a,y++,agent.trigger("home:expert:update",{},a)}}),u.data=new q("profile.uid"),u.company_data=new q("sid");var w=a("tpl/home_expert.tpl"),x=a("tpl/company_item.tpl"),y=1;agent.on("home:expert:update",function(a,b){function c(a){if(200==a.status){g.reset&&(h.html(""),u.iScroll.scrollTo(0,0));var c=u.data.add(a.data.person),f=u.company_data.add(a.data.company);f.length>0&&(f.forEach(function(a,b){var c=f[b];f[b]=c.data}),k.html("").append(tpl.render(x,{companys:f}))),c.length>0?h[i](tpl.render(w,{data:c})):common.alert("没有新数据!"),e(),b?b():""}else d()}function d(){common.alert(C.alert_aet),u.end?u.end():"",u.loadMore_end?u.loadMore_end():""}var g=a||{},i=g.render_fn||"append";m=f.rst,g.clearData&&(u.data.remove(),u.company_data.remove(),y=1);var j={url:C.api.person_list,data:{catid:m[0],sub_catids:m[1],typeid:m[2],aid:C.city.aid,amap_lat:"0.0",amap_lng:"0.0",page:y,page_count:10},isOnFront:0,type:"get",success:c,error:d};try{net.ajax(lang.extend(j,g))}catch(l){d()}}),t.on("click",".content-company-title",function(){var a=$(this),b=f.rst,c=a.attr("data-href");b&&(a.attr("data-href",c+"?catid="+b[0]+"!!sub_catids="+b[1]+"!!typeid="+b[2]+"!!aid=1!!amap_lat=0.0!!amap_lng=0.0"),setTimeout(function(){a.attr("data-href",c)},20))}),agent.on("home:filterBar:update",function(){c()}),s.on("click",".home-logout",function(){agent.trigger("logout")}),agent.on("logout",function(){function a(a){200==a.status?(common.alert(a.error_msg),location.hash="#/login_wel",netCache.clear(),common.clearUserInfo(),location.reload()):b()}function b(){common.alert(C.aet)}common.alert(C.alert_post),net.ajax({url:C.api.login+"&op=logout",type:"post",isCache:0,success:a,error:b})}),b.show=function(){t.show(),setTimeout(function(){h.show(),e()},50),common.navAct(1)},b.hide=function(){t.hide(),document.lock["filterBar:hide"]=!0,common.navHide(),setTimeout(function(){h.hide()},50)}}),define("page/login",["tpl/login.tpl"],function(a,b){"use strict";var c,d=a("tpl/login.tpl"),e=a("head2"),f=$(document),g=$("body"),h=a("form"),i=$("#page-login");agent.on("login:init",function(){i.append(tpl.render(e+d,{head2:{title:"登陆"}})),c=i.find(".login-box")}),f.on("click",".login-btn",function(){function a(a){a&&200==a.status&&(common.setUserInfo({username:d.username,password:d.password,aid:a.aid,city:a.city,area:a.area,real_name:a.real_name,error_msg:a.error_msg,uid:a.uid}),location.hash="0"==a.user_product?"#/sel_head":"#/home",location.reload()),common.alert(a.error_msg)}function b(){common.alert(C.alert_aet)}var d=h.getFormData(c);if(""==d.username)return void common.alert("请输入账号..");if(""==d.password)return void common.alert("请输入密码..");common.alert(C.alert_post);try{net.ajax({url:C.api.login,type:"post",data:d,isCache:0,isOnFront:0,success:a,error:b})}catch(e){b()}}),agent.trigger("login:init"),b.show=function(){i.show(),g.addClass("login-bg-color"),common.loadHide()},b.hide=function(){i.hide(),g.removeClass("login-bg-color")}}),define("page/login_wel",["tpl/login_wel.tpl"],function(a,b){"use strict";var c,d=a("tpl/login_wel.tpl"),e=a("banner"),f=$("#page-login-wel");agent.on("login_wel:init",function(){f.append(tpl.render(d)),c=new e("login-wel-wp",{autoTime:3e3,btns:"#page-login-wel .login-wel-focus"})}),agent.trigger("login_wel:init"),b.show=function(){f.show(),common.loadHide()},b.hide=function(){f.hide()}}),define("page/map",["tpl/map.tpl"],function(a,b){"use strict";function c(){var a=document.createElement("script");a.type="text/javascript",a.src="http://api.map.baidu.com/api?v=2.0&ak="+C.mapKey+"&callback=map_init",document.body.appendChild(a)}function d(){agent.trigger("map:update"),k=!0}var e,f,g,h,i=a("tpl/map.tpl"),j=a("head2"),k=($(document),!1),l=$("#page-map");l.html(tpl.render(j+i,{head2:{title:"公司位置"}})),window.map_init=d,c(),agent.on("map:update",function(){h=l.find(".map-main"),h.css("height",document.body.scrollHeight-45);var a=new BMap.Point(f,e),b=new BMap.Marker(a);g=new BMap.Map("map-main"),g.addOverlay(b),g.centerAndZoom(a,15);var c=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE,enableGeolocation:!0});g.addControl(c),g.enableScrollWheelZoom()}),b.show=function(a){e=1*a.map_lat,f=1*a.map_lng,l.show(),k&&agent.trigger("map:update")},b.hide=function(){l.hide(),setTimeout(function(){h.html("")},20)}}),define("page/me",["tpl/me.tpl"],function(a,b){"use strict";var c=a("tpl/me.tpl"),d=($(document),$("#page-me"));agent.on("me:init",function(){function a(a){200==a.status?d.html(tpl.render(c,a)):b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.get_userinfo,data:{uid:common.getUserInfo().uid},success:a,error:b})}),agent.trigger("me:init"),b.show=function(){d.show(),common.navAct(3)},b.hide=function(){d.hide(),common.navHide()}}),define("page/msg",["tpl/recent.tpl"],function(a,b){"use strict";var c=a("tpl/recent.tpl"),d=$("#page-msg");d.append(tpl.render(c)),b.show=function(){d.show(),common.navAct(2)},b.hide=function(){d.hide(),common.navHide()}}),define("page/person",["tpl/person.tpl"],function(a,b){"use strict";function c(a){function b(){e?(h.removeClass("active"),g++):(h.addClass("active"),g--),f.text(g)}function c(a){h.data("lock",!1),b(),common.alert(a.error_msg)}function d(){h.data("lock",!1),common.alert(C.aet),b()}var e,f,g,h=a.$this;if(e=h.hasClass("active"),f=h.find(".num"),g=1*f.text(),common.alert(C.alert_post),!h.data("lock")){h.data("lock",!0);var i={success:c,isCache:0,isOnFront:0,error:d};try{net.ajax(lang.extend(i,a))}catch(j){d()}}}var d,e,f,g=a("tpl/person.tpl"),h=a("head2"),i=$(document),j=(a("favorite"),$("#page-person"));agent.on("person:update",function(){function a(a){if(200==a.status){f=a;var c=lang.extend(a,{head2:{title:"个人中心"}});j.html(tpl.render(h+g,c)),j.find(".j-favorite")[0].ajax_data={id:d},agent.trigger("wx_set_share")}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.get_userinfo,data:{uid:d},success:a,error:b})}),i.on("click","#page-person .isAgree-item",function(){var a,b=$(this);a=b.hasClass("isAgree-yes")?{url:C.api.lianxiren_pl,isOnFront:0,data:{op:"like",uid:common.getUserInfo().uid,userid:d},$this:b}:{url:C.api.step,data:{op:"userstep",id:d},$this:b},c(a)}),agent.on("wx_set_share",function(){if(e){var a=f.userinfo;common.wx_set_share({title:a.realname||a.username,desc:a.company_name+"\n"+a.address,link:location.href,imgUrl:a.icon||C.noface1})}}),b.show=function(a){d=a.uid,j.show(),e=1,agent.trigger("person:update")},b.hide=function(){e=0,j.hide(),setTimeout(function(){j.html("")},20)}}),define("page/person_dyn",["tpl/person_dyn.tpl"],function(a,b){"use strict";var c,d,e=a("tpl/person_dyn.tpl"),f=a("head2"),g=1,h=$("#page-person-dyn"),i=a("mList"),j={},k={},l=a("data"),m=a("tpl/dyn_content_item.tpl");k=new l("did"),agent.on("person_dyn",function(a,b){function l(c){if(200==c.status){var l=k.add(c.rows);c.realname||(c.realname=c.username);var p=lang.extend(c,{head2:{title:"个人动态"},tpl_dci:m});p.pageType="person_dyn","init"==a?(h.html(tpl.render(f+e,p)),d=h.find(".dyn-content"),j=new i("persondyn-wp",{vScrollbar:!0,id:"person_dyn",onUpdate:function(a){j.end=a,agent.trigger("person_dyn","update",a)},onLoadMore:function(a){j.loadMore_end=a,g++,agent.trigger("person_dyn","loadmore",a)}})):l.length>0?d[o](tpl.render(m,c)):common.alert(C.alert_noData),j.iScroll.refresh()}else n();b?b():""}function n(){common.alert(C.aet),b?b():""}var o;o="update"==a?"prepend":"loadmore"==a?"append":"append",net.ajax({url:C.api.get_demand_list,data:{uid:c,page:"update"==a?0:g,page_count:"10",aid:C.city.aid},isOnFront:0,success:l,error:n})}),b.show=function(a){c=a.uid,g=1,k.remove(),agent.trigger("person_dyn","init"),h.show()},b.hide=function(){h.hide(),common.clearHTML(h)}}),define("page/person_replay_post",["tpl/person_reply_post.tpl"],function(a,b){"use strict";var c,d,e=a("tpl/person_reply_post.tpl"),f=a("head2"),g=$(document),h=!1,i=$("#page-person-reply-post");agent.on("prp:update",function(){var a={head2:{title:"发送评论",right:'<div class="prp-post" >确定</div>'}};i.html(tpl.render(f+e,a)),d=i.find(".prp-main-intext")}),g.on("click",".prp-post",function(){function a(a){200==a.status?(h=!1,common.alert(a.error_msg),history.back(),agent.trigger("person_reply:comm")):common.alert(a.error_msg)}var b=d.val();return b?(common.alert(C.alert_post),void(h||(h=!0,net.ajax({url:C.api.demand_comment+"&op=add",type:"post",data:{uid:common.getUserInfo().uid,did:c,comment_type:"0",demand_id:c,content:b},isOnFront:0,isCache:0,success:a,error:common.error})))):void common.alert(C.alert_qsrnr)}),b.show=function(a){c=a.did,i.show(),agent.trigger("prp:update")},b.hide=function(){i.hide(),setTimeout(function(){i.html("")},20)}}),define("page/person_reply",["tpl/person_reply.tpl"],function(a,b){"use strict";function c(){setTimeout(function(){var a=i.width(),b=i.find(".prpch-img-box"),c=b.width()+10,d=Math.floor(a/c);b=b.slice(d-1),b.remove()},100)}var d,e,f,g,h,i,j=a("tpl/person_reply.tpl"),k=a("head2"),l=a("tpl/dyn_content_item.tpl"),m=$(document),n=a("banner"),o=!1,p=(a("favorite"),a("ui")),q=$("#page-person-reply");agent.on("person_reply:update",function(){function a(a){if(200==a.status){h=a;var e=lang.extend(a,{head2:{title:"IT达人分享",right:'<div class="fa fa-ellipsis-h pson-rep-more"></div>'},did:f,tpl_dyn_item:l});q.html(tpl.render(k+j,e)),q.find(".j-favorite")[0].ajax_data={id:a.comment.uid},r=q.find(".prep-more-pl"),i=q.find(".prp-comm-per"),c(),agent.trigger("wx_set_share"),a.comment.pictures&&(d=new n("prp-imgs-box",function(){})),setTimeout(function(){p.center(q.find("#prp-imgs-box .company-ad-btns"),{top:"88%"})},100)}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.demand_comment,data:{uid:e,did:f},success:a,error:b,onUpdate:function(){agent.trigger("person_reply:update")}})});var r,s=document.unlock,t="person_reply:hide";m.on("click",".pson-rep-more",function(){s[t]=!0,r.show()}),agent.on("person_reply:hide",function(){r.hide(),s[t]=!1}),q.on("click",".prep-more-del",function(){function a(a){200==a.status?(common.alert(a.error_msg),location.hash="#/dyn",agent.trigger("dyn_item:del",f)):b(a)}function b(a){common.alert(a.error_msg)}common.alert(C.alert_post),net.ajax({url:C.api.demand+"&op=del",data:{uid:e,did:f},isOnFront:0,success:a,error:b})}),agent.on("wx_set_share",function(){if(o){var a=h.comment;common.wx_set_share({title:a.realname,desc:a.content,link:location.href,imgUrl:a.pictures[0]||a.icon})}}),agent.on("person_reply:comm",function(a){if(!a){var b=q.find(".prpb-like-num"),c=1*b.text();b.text(c++)}}),b.show=function(a){e=a.uid,f=a.did,g=a.k,o=!0,q.show(),agent.trigger("person_reply:update")},b.hide=function(){o=!1,q.hide(),common.clearHTML(q)}}),define("page/rank",["tpl/rank.tpl"],function(a,b){"use strict";var c=a("tpl/rank.tpl"),d=$("#page-rank"),e=a("head2");agent.on("rank:init",function(){function a(a){200==a.status?d.append(tpl.render(e+c,lang.extend(a,{head2:{title:"TOP 50"}}))):b()}function b(){common.alert(C.aet)}net.ajax({url:C.api.fans_top,success:a,error:b})}),agent.trigger("rank:init"),b.show=function(){d.show()},b.hide=function(){d.hide()}}),define("page/recent",["tpl/recent.tpl"],function(a,b){"use strict";var c=a("tpl/recent.tpl"),d=$("#page-recent");d.append(tpl.render(c)),b.show=function(){d.show(),common.navAct(1)},b.hide=function(){d.hide(),common.navHide()}}),define("page/reg",["tpl/reg.tpl"],function(a,b){"use strict";var c,d=a("tpl/reg.tpl"),e=a("head2"),f=$(document),g=!1,h=a("form"),i=$("#page-reg");agent.on("reg:init",function(){i.append(tpl.render(e+d,{head2:{title:"免费注册"}})),g=!0,c=i.find(".reg-main")}),f.on("click",".reg-confirm",function(){function a(a){a&&200==a.status&&(common.setUserInfo({password:d.password}),location.hash="#/login"),common.alert(a.error_msg)}function b(){common.alert(C.alert_aet)}var d=h.getFormData(c);if(""==d.mobile)return void common.alert("请输入手机号码..");if(""==d.password)return void common.alert("请输入密码..");if(""==d.serial)return void common.alert("请输入验证码..");common.alert(C.alert_post);try{net.ajax({url:C.api.register,type:"post",data:d,isCache:0,success:a,error:b})}catch(e){b()}}),f.on("click",".reg-phone-getCode",function(){function a(a){a&&200==a.status,common.alert(a.error_msg)}function b(){common.alert(C.alert_aet)}var d=h.getFormData(c);common.alert(C.alert_post);try{net.ajax({url:C.api.register+"&op=check_mobile",type:"post",data:{mobile:d.mobile},isCache:0,isOnFronts:0,success:a,error:b})}catch(e){b()}}),agent.trigger("reg:init"),b.show=function(){i.show(),g&&common.loadHide()},b.hide=function(){i.hide()}}),define("page/report",[],function(){"use strict"}),define("page/sel_brand",["tpl/sel_brand.tpl","widget/scroll_sel"],function(a,b){"use strict";function c(){var a,b=h.getFormData(i).cate_name;a=e?e.eq(b).attr("catid"):222,common.set_sel_sf({sub_catids:a})}var d,e,f=a("tpl/sel_brand.tpl"),g=a("head2"),h=(a("widget/scroll_sel"),a("form")),i=$("#page-sel-brand");i.on("click",".sel-brand-ok",c),agent.on("sel_brand:init",function(){function a(a){if(!a.categories||a.categories.length<=0)return common.alert("该类目暂时还没有品牌列表，请重新选择"),void(location.hash="#/sel_product?pageType=1");var b=lang.extend(a,{head2:{title:"选择品牌",right:'<div data-href="#/sel_city?pageType=1" class="j-href sel-brand-ok">确定</div>'}});i.html(tpl.render(g+f,b)),e=i.find(".sel-brand-item"),setTimeout(function(){h.ui(i),i.find(".sel-brand-item").eq(0).trigger("click")},50)}function b(){common.alert(C.aet)}net.ajax({url:C.dir_app,data:{act:"category",catid:common.get_sel_sf().catid},success:a,error:b})}),b.show=function(a){d=a.stepVal,i.show(),common.loadHide(),agent.trigger("sel_brand:init")},b.hide=function(){i.hide(),setTimeout(function(){i.html("")},20)}}),define("page/sel_city",["tpl/sel_city.tpl","widget/scroll_sel"],function(a,b){"use strict";var c,d,e,f,g,h=a("tpl/sel_city.tpl"),i=a("head2"),j=a("widget/scroll_sel"),k=a("ui"),l=(a("form"),!1),m=$("#page-sel-city");m.on("click",".sel-city-ok",function(){function a(a){200==a.status&&setTimeout(function(){location.hash="#/home",location.reload()},100),common.alert(a.error_msg)}function b(){common.alert(C.alert_aet)}var c=d.rst,e=common.get_sel_sf(),f={c_type:e.c_type,catid:e.catid,sub_catids:e.sub_catids,aid:g.eq(1).find(".scroll-sel-list").eq(c[0]).find(".scroll-sel-li").eq(c[1]).attr("aid")};common.alert(C.alert_post),net.ajax({url:C.api.userinfo+"&op=save",isCache:0,data:f,success:a,error:b})}),m.on("click",".sel-city-tr-ok",function(){var a=d.rst,b=g.eq(1).find(".scroll-sel-list").eq(a[0]).find(".scroll-sel-li").eq(a[1]),c={aid:b.attr("aid"),name:b.text()};common.setCity(c),location.hash="#/home",location.reload()}),agent.on("sel_city:init",function(){function a(a){var b="";l=!0,2==e&&(b='<div class="sel-city-tr-ok">确定</div>');var c=lang.extend(a,{head2:{title:"选择城市",right:b},pageType:e});m.html(tpl.render(i+h,c)),g=m.find(".scroll-sel-box"),d=new j(m.find(".scroll-sel-root")),f=m.find(".scroll-sel-root"),k.center(f)}function b(){common.alert(C.aet)}net.ajax({url:C.dir_app,isCache:1,data:{act:"get_city_list1"},success:a,error:b})}),agent.trigger("sel_city:init"),b.show=function(a){c=a.stepVal,e=a.pageType||2,m.show(),common.loadHide()},b.hide=function(){m.hide()}}),define("page/sel_head",["tpl/sel_head.tpl"],function(a,b){"use strict";var c,d,e,f,g,h=a("tpl/sel_head.tpl"),i=a("head2"),j=a("form"),k=$("#page-sel-head");k.on("click",".sel-head-next",function(){function a(a){200==a.status&&(location.hash="#/sel_product?pageType=1")}function b(){common.alert(C.alert_aet)}var c=j.getFormData(k),d=(c.face,c.realname);return f.rst&&f.rst[0]?d?(common.alert(C.alert_post),void net.ajax({type:"post",dataType:"json",url:C.api.edit_user_info+"&profile[realname]="+d,data:{face:f.rst[0]},isOnFront:0,success:a,error:b})):void common.alert(C.alert_mcbnwk):void common.alert(C.alert_qxztp)}),agent.on("sel_head:init",function(){var a='<div class="sel-head-next">下一步</div>',b={};b.head2={title:"完善个人资料",right:a},k.html(tpl.render(i+h,b)),g=k.find(".sel-head-face-img"),e=k.find(".sel-head"),f=common.upload.init({$root:k.find(".sel-head"),input:"#page-sel-head .kw-upload-file",box:"#page-sel-head  .kw-upload-box",imgType:1})}),agent.trigger("sel_head:init"),b.show=function(a){c=a.stepVal,d=a.pageType||2,k.show(),common.loadHide()},b.hide=function(){k.hide()}}),define("page/sel_identity",["tpl/sel_identity.tpl","widget/scroll_sel"],function(a,b){"use strict";var c,d,e,f=a("tpl/sel_identity.tpl"),g=a("head2"),h=a("widget/scroll_sel"),i=a("form"),j=(a("ui"),!1),k=$("#page-sel-identity");k.on("click",".sel-sf-next",function(){var a=i.getFormData(k),b=a.company_name,d=a.company_addr;if(!b)return void common.alert("请输入公司名称!");if(!d)return void common.alert("请输入公司地址!");var f={c_type:e.eq(c.rst[0]).attr("typeid"),company_name:b,company_addr:d};common.set_sel_sf(f),location.hash="#/sel_product?pageType=1"}),agent.on("sel_identity:init",function(){function a(a){if(200==a.status){j=!0;var i=lang.extend(a,{head2:{title:"选择您的身份"}});k.html(tpl.render(g+f,i)),c=new h(k.find(".scroll-sel-root")),d=k.find(".scroll-sel-root"),e=k.find(".scroll-sel-li")}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.dir_app,data:{act:"c_type"},success:a,error:b})}),agent.trigger("sel_identity:init"),b.show=function(){k.show(),common.loadHide()},b.hide=function(){k.hide()}}),define("page/sel_product",["tpl/sel_product.tpl","widget/scroll_sel"],function(a,b){"use strict";function c(){var a=n.find(".scroll-sel-box"),b=e.rst,c=a.last().find(".scroll-sel-list").eq(b[0]).find(".scroll-sel-li").eq(e.rst[1]).attr("catid");return c}function d(){function a(a){200==a.status?(common.alert(a.error_msg),"提交成功"==a.error_msg&&(agent.trigger("addProductList:update"),agent.trigger("home:filterBar:update"),location.hash="#/home",2==h&&setTimeout(function(){location.hash="#/add_product_list"},50))):b()}function b(){common.alert(C.aet)}common.alert(C.alert_post),net.ajax({type:"post",url:C.api.custom_made+"&op=save&uid="+common.getUserInfo().uid,data:{batch_product:JSON.stringify([{catid:c()}])},success:a,error:b})}var e,f,g,h,i=a("tpl/sel_product.tpl"),j=a("head2"),k=a("widget/scroll_sel"),l=a("ui"),m={},n=$("#page-sel-product");n.on("click",".sel-sf-next",function(){d()}),n.on("click",".sel-product-ok",function(){d()}),agent.on("sel_product:init",function(){function a(a){if(200==a.status){var c;2==h&&(c='<div class="sel-product-ok">确定</div>');var d=lang.extend(a,{head2:{title:m.head2Title,right:c},pageType:h});console.log(a),n.html(tpl.render(j+i,d)),e=new k(n.find(".scroll-sel-root")),f=n.find(".scroll-sel-root"),l.center(f)}else b()}function b(){common.alert(C.aet)}net.ajax({url:C.dir_app,data:{act:"category_new",catid:"all"},success:a,error:b})}),b.show=function(a){h=a.pageType||2,1==h?(g=a.stepVal,m.head2Title="选择您的产品"):m.head2Title="已关注的行业",n.show(),agent.trigger("sel_product:init")},b.hide=function(){n.hide(),setTimeout(function(){n.html("")},50)}}),define("tpl/add_product_list.tpl",[],'\n\n\n<div class="addPL-main">\n    <%\n        my_attention.forEach(function(v){\n    %>\n        <div cid="<%=v.cid %>" class="kw-wp kw-li addPL-item"><%=v.name %></div>\n    <%\n        })\n    %>\n\n</div>'),define("tpl/company.tpl",[],'<%\n    if(stores.album_list.length > 0){\n%>\n<div class="company-ad" id="company-ad">\n    <div class="banner-content">\n        <%\n            stores.album_list.forEach(function(v,k){\n        %>\n            <div class="company-ad-imgs banner-content-item company-ad-imgs box-center" style="background-image: url(\'<%=v.filename %>\')"></div>\n        <%\n            })\n        %>\n        \n    </div>\n    <div class="banner-btns company-ad-btns">\n    </div>\n</div>\n<%\n    }\n%>\n\n\n<div class="company-m kw-box-v">\n    <div class="company-m-item kw-box-a-v company-m-info">\n        <div class="company-mi-l kw-box-a-v kw-flex1">\n            <div class="company-mi-item kw-box-a-v company-mi-view">\n                <div class="fa fa-eye company-mi-icon company-mi-view-icon"></div>\n                <div class="ompany-mi-num company-mi-view-num"><%=stores.pageviews %></div>\n            </div>\n\n            <div class="company-mi-item kw-box-a-v kw-box company-mi-tel">\n                <div class="fa fa-phone-square company-mi-icon company-mi-tel-icon"></div>\n                <div class="ompany-mi-num company-mi-tel-num"><%=stores.callcount %></div>\n            </div>\n\n            <div class="company-mi-item kw-box company-mi-like">\n                <div class="fa fa-thumbs-o-up company-mi-icon company-mi-like-icon"></div>\n                <div class="ompany-mi-num company-mi-like-num"><%=stores.likes_num %></div>\n            </div>\n\n            <div class="company-mi-item kw-box company-mi-comm">\n                <div class="fa fa-comment company-mi-icon company-mi-comm-icon"></div>\n                <div class="ompany-mi-num company-mi-comm-num"><%=stores.reviews %></div>\n            </div>\n        </div>\n\n        <div class="company-mi-item kw-box company-mi-r">\n            <div class="ompany-mi-num company-mi-sort-num"><%=stores.sort1 %></div>\n        </div>\n    </div>\n    <div class="company-m-item kw-box-a-v  ccompany-m-address">\n        <div class="company-ma-item kw-box company-ma-l kw-flex1"><%=stores.c_address %></div>\n        <div data-href="#/map?map_lat=<%=stores.map_lat %>!!map_lng=<%=stores.map_lng %>!!sid=<%=stores.sid %>" class="j-href company-ma-item kw-box company-ma-r">\n            <div  class="btn-green">地图</div>\n        </div>\n    </div>\n</div>\n\n<%\nvar link_user = stores.link_user;\nif(link_user.length > 0){\n    link_user.forEach(function(v,k){\n%>\n    <div class="kw-wp j-href company-user kw-box" data-href="#/person?uid=<%=v.uid %>">\n        <div class="cuser-item kw-box-a-v company-user-l">\n            <img class="cuser-l-face" src="<%=v.face %>">\n        </div>\n        <div class="cuser-item kw-box-v company-user-m kw-flex1">\n            <div class="kw-box kw-txt-li">\n                <div class="cmli1-item cuser-m-name"><%-v.realname || v.username %></div>\n                <div class="cmli1-item cuser-m-leve daren"><%=v.grade %>级达人</div>\n                <div class="cmli1-item cuser-m-fans">粉丝 <%=v.fans %></div>\n            </div>\n            <div class="kw-box kw-txt-li">\n                <div class="cuser-m-pinpai"><%=v.pinpai %></div>\n            </div>\n        </div>\n        <div class="cuser-item kw-box-a-v company-user-r">\n            <div class="fa fa-chevron-right "></div>\n        </div>\n    </div>\n<%\n    })}\n%>\n\n<%\n    var brands = stores.brands;\n    if(brands && brands.length > 0 ){\n        \n%>\n\n<div class="company-pro">\n    <div class="kw-box-a-v kw-wp company-pro-head">\n        <div class="cpro-head-l kw-flex1">经营产品</div>\n        <div class="cpro-head-r">\n            <div class="fa fa-chevron-right "></div>\n        </div>\n    </div>\n\n    <div class="company-pro-box">\n        <% \n            brands.forEach(function(v,k){\n        %>\n        <div class="kw-box cpro-line">\n           <%\n                for(var i = 0,len=3; i< len ; i++){\n                if(v.brand_all.length > 0 && v.brand_all[i]){\n                    var cur = v.brand_all[i];\n           %>\n            <div class="kw-box-v kw-wp cpro-item">\n                <img src="<%=C.noface1 %>" class="cpro-img">\n                <div class="kw-box-center cpro-text">\n                    <div class="kw-text-over kw-flex1 cpro-text-ms"><%=cur.goods_name %></div>\n                    <div class="kw-flex1 cpro-text-price">￥<%-Math.floor(cur.peer_price) %></div>\n                </div>\n            </div>\n            <% \n                }}\n            %>\n        </div>\n        \n        <%\n            })\n        %>\n    </div>\n</div>\n\n<%\n    }\n%>\n\n<div class="kw-f-bottom pc-fixed kw-box-center company-tel">\n    <div class="fa fa-phone company-tel-icon"></div>\n    <div class="company-tel-text">打电话</div>\n</div>\n\n\n\n\n'),define("tpl/company_item.tpl",[],'\n<%\n    companys.forEach(function(v,k){\n        var v = v.data || v;\n%>\n<div data-href="#/company?sid=<%=v.sid %>" class="j-href content-item-item content-item-box">\n    <div class="cib-item cib-left">\n        <img class="cib-left-img" src="<%-v.thumb == \'\' ? C.noface1 : v.thumb %>">\n    </div>\n    <div class="cib-item cib-right">\n        <div class="cib-right-item text-over cib-right-name"><%=v.name %></div>\n        <div class="cib-right-item text-over  cib-right-ms">\n            <div class="item browse">浏览<%=v.pageviews %></div>\n            <div class="item reviews">点评<%=v.reviews %></div>\n            <div class="item distance"><%-v.juli == \'\'? \'未知\':v.juli %></div>\n        </div>\n        <div class="cib-right-item text-over end cib-keyword"><%=v.pinpai %></div>\n    </div>\n</div>\n<%\n})\n%>'),define("tpl/company_list.tpl",[],'\n\n<div id="company-list-wp">\n    <div class="company-list-main">\n        <%-tpl.render(tpl_company_item,{companys:data}) %>\n    </div>\n</div>\n'),define("tpl/company_zs.tpl",[],'<div class="company-zs-box">\n    <img class="company-zs-box-img" src="<%=data.thumb %>">\n</div>'),define("tpl/dyn.tpl",[],'<div class="dyn">\n    <div class="head2 pc-fixed">\n        <div data-href="#/dyn_post" class="j-href fa fa-edit head2-item box-center kw-head-icon "></div>\n        <div class="kw-box-a-v dyn-head-tabs">\n            <div class="kw-box-center dyn-head-tab">好友分享</div>\n            <div class="kw-box-center dyn-head-tab">行业分享</div>\n        </div>\n        <div data-href="#/dyn_msg" class="fa fa-envelope-o head2-item box-center kw-head-icon"></div>\n    </div>\n    <form class="kw-wp dyn-search pc-fixed">\n        <div class="kw-box-a-v dyn-search-box">\n            <input name="" type="search" value="" class="dyn-sh-input"/>\n            <div class="fa fa-search kw-head-icon dyn-sh-icon"></div>\n        </div>\n    </form>\n\n    <div class="dyn-main">\n        <div class="dyn-list dyn-main-all">\n            <div class="dyn-main-scroll"></div>\n        </div>\n        <div class="dyn-list dyn-main-my">\n            <div class="dyn-main-scroll"></div>\n        </div>\n    </div>\n\n</div>'),define("tpl/dyn_content_item.tpl",[],'<%\nif(rows.length > 0){\nrows.forEach(function(v,k){\nvar d_time = time.format(v.d_time*1);\nvar dlike = v.demands_like;\n%>\n    <div class="dyn-item" did="<%=v.did %>">\n\n    <div class="pson-rep-top">\n        <div class="kw-wp kw-box-a-v pson-rep-per">\n            <div data-href="#/person?uid=<%=v.uid %>" class="j-href prpt-l">\n                <img class="prpt-l-head" src="<%=v.icon %>">\n            </div>\n            <div class="prpt-m kw-flex1 kw-text-over">\n                <div class="kw-txt-li kw-box-a-v ">\n                    <div class="prpt-m-name"><%=v.realname %></div>\n                    <div class="prpt-m-tname"><%=v.all_type_name || \'\' %></div>\n                </div>\n                <div class="kw-txt-li kw-box-a-v ">\n                    <%\n                    var cname = v.subject.name;\n                    if(cname && pageType == \'person_reply\'){\n                    %>\n                    <div data-href="#/company?sid=<%=v.subject.sid %>" class="j-href prpt-m-cname"><%=cname %></div>\n                    <%\n                    }\n                    %>\n                </div>\n                <div class="kw-txt-li kw-box-a-v ">\n                    <div class="prpt-m-address"><%=v.d_address %></div>\n                    <div class="prpt-m-time"><%=d_time%></div>\n                </div>\n            </div>\n            <%\n                if(pageType == \'person_reply\'){\n            %>\n            <div class="prpt-r">\n                <div class="btn-green prpt-r-atten j-favorite" follow=<%if(v.follow_flag == 1){ %> "1" <%}else{%> "0" <% }%> ><%-v.follow_flag == 1 ?\'已关注\':\'关注\' %></div>\n            </div>\n            <%\n                }\n            %>\n        </div>\n    </div>\n\n\n\n\n    <%\n    if(v.pictures && v.pictures.length <= 0){\n        v.pictures = [C.subject_default];\n    }\n    %>\n\n    <div class="prp-imgs-wp">\n        <div data-href="#/person_reply?uid=<%=v.uid %>!!did=<%=v.did %>" class="<% if(pageType ==\'dyn\' || pageType ==\'person_dyn\'){%>j-href<%}%> prp-imgs-box" <%if(pageType==\'person_reply\'){%>id="prp-imgs-box"<%}%>>\n            <div class="banner-content  prp-imgs-scroll">\n                <%\n                var pictures;\n                if(v.pictures === \'\'){\n                    pictures = [C.subject_default]\n                }else{\n                    pictures = v.pictures\n                }\n                pictures.forEach(function(v,k){\n                    if(pageType == \'dyn\' && k>0){\n                        return;\n                    }\n                %>\n                <div class="banner-content-item prp-imgs-item" style="background-image:url(\'<%=v %>\')"></div>\n                <%\n                })\n                %>\n            </div>\n        <div class="banner-btns company-ad-btns"></div>\n\n        </div>\n\n        <div did="<%=v.did %>" class="j-dyn-like kw-box-center prp-like <%if(dlike.like == 1){%>active<%}%> ">\n            <div class="fa fa-heart prp-like-header"></div>\n        </div>\n    </div>\n\n<div class="prp-info">\n    <div class="kw-box kw-wp prp-info-btn">\n        <div class="kw-box prp-btn-item prp-btn-like">\n            <div class="fa fa-heart prp-btn-icon prpb-like-icon"></div>\n            <div class="prpb-like-num"><%=dlike.nums %></div>\n        </div>\n        <div class="kw-box prp-btn-item prp-btn-comm">\n            <div class="fa fa-comment prp-btn-icon prpb-comm-icon"></div>\n            <div class="prpb-comm-num"><%=v.comment_num %></div>\n        </div>\n        <div class="kw-box prp-btn-item prp-btn-comm">\n            <div class="fa fa-eye prp-btn-icon prpb-view-icon"></div>\n            <div class="prpb-view-num"><%=v.pageviews %></div>\n        </div>\n    </div>\n    <div data-href="#/person_reply?uid=<%=v.uid %>!!did=<%=v.did %>" class="<%if(pageType==\'dyn\' || pageType == \'person_dyn\'){%>j-href<%}%> kw-wp prp-content"><%=v.content %></div>\n    <%\n    if(dlike.all.length > 0){\n    %>\n    <div class="kw-box prp-comm-per">\n        <div class="kw-box prp-comm-head kw-flex1">\n            <%\n            var prpch_head = {};\n            dlike.all.forEach(function(v,k){\n            %>\n            <div data-href="#/person?uid=<%=v.uid %>" class="j-href prpch-img-box">\n                <img class="prpch-img" src="<%=v.icon %>">\n            </div>\n            <%\n            })\n            %>\n        </div>\n        <div class="prp-comm-per-num"><%=dlike.nums%></div>\n    </div>\n\n\n</div>\n<%\n}\n%>\n</div>\n</div>\n\n\n\n\n<%\n})}else{\n%>\n<div class="dyn-content-none">没有动态!</div>\n<%\n}\n%>'),define("tpl/dyn_post.tpl",[],'<div class="dyn-post">\n    <div class="dp-content-box">\n        <div class="kw-wp dp-content-fix">\n            <textarea placeholder="请填写需求..." name="content"  class="dp-content" ></textarea>\n        </div>\n        <div class="dyn-post-img kw-upload-box"></div>\n        <div class="kw-wp dyn-post-ctr">\n            <div class="fa dpc-item fa-camera dp-camera">\n                <input multiple class="dp-camera-input kw-upload-file" type="file"  value=""/>\n            </div>\n            <div class="fa dpc-item fa-map-marker dp-position"><span class="dp-area-name"><%- common.comp_address() %></span></div>\n        </div>\n    </div>\n</div>\n\n\n<div class="pc-fixed btn-green btn-bf kw-f-bottom dyn-post-ok">发布</div>\n\n\n<div class="dpp-popup pc-fixed">\n    <div class="kw-wp">\n        <div class="dpp-li dpp-popup-del">删除地址</div>\n        <div class="dpp-li dpp-popup-reget">重新获取</div>\n        <div class="dpp-li dpp-popup-cancel">取消</div>\n    </div>\n</div>'),define("tpl/filterBar.tpl",[],'\n<%\n    data.forEach(function(v,k){\n%>\n    <div class="filterBar-item">\n        <div class="filterBar-title">\n            <div class="filterBar-title-text"><%=v.name %></div>\n            <div class="filterBar-title-icon"> > </div>\n        </div>\n        <div class="filterBar-content">\n\n        </div>\n    </div>\n<%\n    })\n%>'),define("tpl/filterBar_content.tpl",[],'<%\n    data.forEach(function(v,k){\n%>\n    <div class="filterBar-content-item" catid="<%=v.catid %>"><%=v.name %></div>\n<%\n    })\n%>'),define("tpl/forget_pw.tpl",[],'<div class="forget-pw-main">\n    <div class="forget-pw-form">\n        <div class="kw-wp kw-box forget-pw-form-item">\n            <input placeholder="您注册时的手机号码" name="mobile" type="number" class="kw-block kw-flex1 kw-input forget-pw-input forget-pw-mobile">\n            <div class="btn-green forget-pw-getCode">获取验证码</div>\n        </div>\n        <div class="kw-wp kw-box forget-pw-form-item">\n            <input placeholder="收到的验证码" name="serial" type="number" class="kw-block kw-flex1 kw-input forget-pw-input">\n        </div>\n        <div class="kw-wp kw-box forget-pw-form-item">\n            <input placeholder="新的密码" name="password" type="password" class="kw-block kw-flex1 kw-input forget-pw-input">\n        </div>\n\n        <div class="kw-box-a-h  forget-pw-confirm">\n            <div class="btn-green forget-pw-confirm-box">提交验证码</div>\n        </div>\n\n\n    </div>\n</div>'),define("tpl/head2.tpl",[],'\n<%\n    var title = head2.title || \'\';\n    var right = head2.right || \'\';\n%>\n<div class="head2 pc-fixed">\n    <div class="fa fa-chevron-left head2-item box-center head2-icon j-back"></div>\n    <div class="head2-item box-center head2-title"><%=title %></div>\n    <div class="head2-item box-center head2-right"><%if(right)  {%> <%-right %> <%}%></div>\n</div>'),define("tpl/home.tpl",[],'\n\n<div class="top pc-fixed">\n    <div data-href="#/add_product_list" class="j-href top-title">+ 关注产品</div>\n\n    <div data-href="#/sel_city?pageType=2" class="j-href top-item top-left">\n        <span class=" top-left-item"><%-common.getCity().name %></span>\n        <span class="icon top-left-item top-left-icon"></span>\n    </div>\n    <div class="top-item top-right">\n        <div class="fa fa-search top-search-btn"></div>\n        <div class="home-logout">退出</div>\n    </div>\n</div>\n\n\n<div class="filterBar pc-fixed" id="home-filterBar"></div>\n\n<div class="content" id="home-content">\n    <div id="home-content-warp">\n        <div class="content-item content-item-company">\n            <div data-href="#/company_list" class="kw-box j-href content-item-item content-item-title content-company-title">\n                <div class="content-item-title-l">您可能感兴趣的公司</div>\n                <div class="kw-flex1 content-item-title-r">更多</div>\n            </div>\n            <div class="home-company-main"></div>\n        </div>\n\n        <div class="content-item content-item-expert ">\n            <div class="content-item-item content-item-title">您可能感兴趣的行家</div>\n            <div id="home-expert-main">\n                <div id="home-expert-wrap">\n\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n\n\n\n</div>'),define("tpl/home_ad.tpl",[],'<div class="home-ad" id="home-ad">\n    <div class="banner-content home-ad-scroll">\n        <%\n            adv_list.forEach(function(v,k){\n        %>\n        <div class="banner-content-item">\n            <img data-href="#/company?sid=<%=v.img_sid %>" src="<%=v.img_src%>" class="j-href kw-img home-scroll">\n        </div>\n        <%\n            })\n        %>\n    </div>\n    <div class="banner-btns company-ad-btns"></div>\n</div>'),define("tpl/home_expert.tpl",[],'\n\n\n<%\n    data.forEach(function(v,k){\n        var v = v.data;\n%>\n\n<div data-href="#/person?uid=<%=v.user_info.uid %>" class="content-item-item content-item-box j-href">\n    <div class="cib-item cib-left">\n        <img class="cib-left-img" src="<%=v.face %>">\n    </div>\n    <div class="cib-item cib-right">\n        <div class="cib-right-item text-over cib-right-ms">\n            <div class="item text-over name"><%-v.profile.realname || v.user_info.username %></div>\n            <div class="item text-over level">\n                <% \n                    v.member.c_type.split(\',\').forEach(function(v,k){\n                %>\n                <span class="icon icon-level icon-t-<%=C.icon[\'_\'+v] %>"></span>\n                <%\n                    })\n                %>\n                <span class="daren"><%=v.user_info.grade %>级达人</span>\n            </div>\n        </div>\n        <div class="cib-right-item text-over cib-keyword"><%=v.member.pinpai %></div>\n        <div class="cib-right-item text-over cib-company"><%=v.member.company_name %></div>\n        <div class="cib-right-item text-over cib-group">\n            <div class="cib-group-position"><%=v.member.juli || \'未知距离\' %></div>\n            <div class="cib-group-fans">粉丝数 : <span class="num"><%=v.user_info.fans%></span></div>\n        </div>\n    </div>\n</div>\n\n<% \n    })\n%>'),define("tpl/login.tpl",[],'<%\n    var userInfo = C.userInfo || {};\n    var username = userInfo[\'username\'] || \'\'\n%>\n<div class="kw-wp login-main">\n    <div class="kw-wp login-box">\n        <div class="kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input class="kw-input01-val login-input login-username" placeholder="用户名" name="username" type="text" value="<%=username %>" />\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n\n        <div class="kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input class="kw-input01-val login-input login-password" placeholder="密码" name="password" type="password" />\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n    </div>\n\n    <div class="btn-green login-btn">登陆</div>\n\n\n    <div class="login-other">\n        <div data-href="#/forget_pw" class="j-href login-other-item login-other-r">忘记密码?</div>\n        <div data-href="#/reg" class="j-href login-other-l">免费注册</div>\n    </div>\n\n</div>'),define("tpl/login_wel.tpl",[],'<div class="login-wel-main pc-fixed" >\n\n\n    <div class="login-wel-wp pc-fixed" id="login-wel-wp">\n        <div class="login-wel-box banner-content">\n            <% \n                for(var i=1,len=5; i <len; i++){\n            %>\n            <div class="banner-content-item kw-box-center login-wel-item login-wel-item0<%=i %>">\n                <img class="lwel-img" src="img/login-wel-item0<%=i %>.png">\n            </div>\n            <%\n                }\n            %>\n        </div>\n    </div>\n\n\n    <div class="kw-box-center kw-f-bottom login-wel-bottom pc-fixed">\n        <div class="kw-box-a-v login-wel-focus">\n        </div>\n        <div class="kw-box login-wel-b-box">\n            <div data-href="#/reg" class="j-href kw-flex1 login-wel-b-item  login-wel-reg">注册</div>\n            <div data-href="#/login" class="j-href kw-flex1 login-wel-b-item login-wel-login">登陆</div>\n        </div>\n    </div>\n\n</div>'),define("tpl/map.tpl",[],'<div class="map-main" id="map-main">\n\n</div>'),define("tpl/me.tpl",[],'\n\n<% \n    var u = userinfo;\n%>\n<div class="me">\n    <div class="kw-box kw-wp me-person">\n        <div class="me-ps-l">\n            <div class="me-ps-head">\n                <img src="<%=u.icon %>" class="mps-head-img">\n            </div>\n        </div>\n        <div class="me-ps-r">\n            <div class="kw-txt-li">\n                <div class="me-ps-name"><%-u.realname || u.username  %></div>\n                <span class="daren"><%=u.grade %>级达人</span>\n            </div>\n            <div class="kw-txt-li">\n               <div class="me-ps-uch">油菜号: <%=u.username %></div>\n            </div>\n            <div class="kw-txt-li">\n                <div class="me-ps-follow">关注: <%=u.follow %></div>\n                <div class="me-ps-face">粉丝: <%=u.fans %></div>\n            </div>\n            <div class="kw-txt-li">\n                <div class="me-cat-name"><%=u.cat_name %></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="me-gd">\n        <div data-href="#/person_dyn?uid=<%=C.userInfo.uid %>" class="j-href fa fa-user kw-li me-li me-dyn">我的动态</div>\n        <div class="fa fa-comments kw-li me-li me-rev">我的点评</div>\n        <div data-href="#/rank" class="j-href fa fa-trophy kw-li me-li me-rev">排行榜</div>\n        <div class="fa fa-users kw-li me-li me-rev">全部访客</div>\n        <div class="fa fa-star kw-li me-li me-rev">我的关注</div>\n        <div class="fa fa-heart kw-li me-li me-rev">我的粉丝</div>\n    </div>\n\n    <div class="me-gd">\n        <div class="fa fa-home kw-li me-li me-dyn">我的店铺</div>\n    </div>\n\n    <div class="me-gd">\n        <div class="fa fa-qrcode kw-li me-li me-dyn">扫一扫</div>\n        <div class="fa fa-cog kw-li me-li me-dyn">设置</div>\n    </div>\n\n</div>'),define("tpl/mlist_update.tpl",[],'<div class="mlist-update">\n    <i class="fa fa-lg fa-long-arrow-down arrow"></i>\n    <div class="mlist-update-sta">\n        <div class="mlist-update-text">下拉更新</div>\n        <div class="mlist-update-time">最后更新 : <span class="last-time">没有</span></div>\n    </div>\n</div>'),define("tpl/person.tpl",[],'\n<%\n    var info = userinfo,keyword = [];\n    linksubject.forEach(function(v1,k1){\n        var word  = \'\';\n        word += v1.cat_name + \' \';\n        v1.brands.forEach(function(v2,k2){\n            word += v2.name + \' \';\n        })\n        word += v1.str_c_type;\n        keyword[k1] = word;\n    })\n%>\n<div class="person-main">\n    <div class="person-main-item">\n        <div class="main-item person-ms ">\n            <div class="person-head">\n                <img class="person-head-img" src="<%=info.icon %>">\n            </div>\n            <div class="person-ms-box">\n                <div class="person-msbox-item ">\n                    <div class="person-ms-name text-over"><%=info.realname || info.username %></div>\n                    <div class="person-ms-isAgree">\n                        <div class=" isAgree-item  isAgree-yes <%if(info.likes_flag ==\'0\'){%> active <%}%>">\n                            <span class="fa fa-thumbs-o-up"></span><span class="num"><%=info.likes_num %></span></div>\n                        <div class="isAgree-item isAgree-no <%if(info.step_flag == \'0\'){ %> active <% }%>">\n                            <span class="fa fa-thumbs-o-down"></span><span class="num"><%=info.step_num %></span></div>\n                    </div>\n\n                </div>\n                <div class="person-msbox-item">\n                    <div class="person-atten text-over">关注: <%=info.follow %></div>\n                    <div class="person-fans text-over">粉丝: <%=info.fans %></div>\n                </div>\n                <div class="person-msbox-item" style="margin-bottom: 10px;">\n                    <div class="person-keyword text-over"><%=keyword[0] %></div>\n                </div>\n                <div class="person-msbox-item">\n                    <div class="person-level box-center">\n                        <%\n                            info.str_c_type.split(\' \').forEach(function(v,k){\n                        %>\n                        <span class="icon icon-level icon-t-<%=C.icon_cn[v] %>"></span>\n                        <%\n                            })\n                        %>\n\n                        <span class="daren"><%=info.grade %>级达人</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="main-item">\n            <div class="person-identity text-over"><%=info.company_name %></div>\n        </div>\n        <div class="main-item main-item03 ">\n            <div class="person-address"><%=info.address %></div>\n            <div class="person-attenBtn ">\n                <div class="btn-green person-attenBtn-btn j-favorite" follow=<%if(info.follow_flag == 1){ %> "1" <%}else{%> "0" <% }%> ><%-info.follow_flag == 1 ?\'已关注\':\'关注\' %></div>\n            </div>\n        </div>\n    </div>\n\n    <%\n        linksubject.forEach(function(v,k){\n    %>\n        <div data-href="#/company?sid=<%=v.sid %>" class="person-main-item person-zs j-href">\n            <div class="person-zs-imgs">\n                <img class="person-zs-img" src="<%-v.thumb ? v.thumb : C.noface1 %>">\n            </div>\n            <div class="person-zs-ms">\n                <div class="person-zs-ms-item">\n                    <div class="person-zs-name"><%=v.name %></div>\n                </div>\n                <div class="person-zs-ms-item person-zs-addup">\n                    <div class="person-zs-addup-item person-zs-browse">浏览 <span class="browse-num"><%=v.pageviews %></span></div>\n                    <div class="person-zs-addup-item person-zs-comment">评论 <span class="comment-num"><%=v.reviews %></span></div>\n                    <div class="person-zs-addup-item person-zs-distance">距离 <span class="distance-num"><%=v.juli %></span></div>\n                </div>\n                <div class="person-zs-ms-item">\n                    <div class="person-zs-des"><%=keyword[k] %></div>\n                </div>\n            </div>\n        </div>\n    <%\n        })\n    %>\n\n\n\n\n    <div data-href="#/person_dyn?uid=<%=info.uid %>" class="j-href person-main-item person-dyn">\n        <div class="person-dyn-item person-dyn-num ">个人动态 <span class="num text-over"><%=moving.demand_count %></span>条</div>\n        <div class="person-dyn-item person-dyn-imgs">\n            <%\n                moving.pictures.forEach(function(v,k){\n            %>\n                <div class="person-dyn-img">\n                    <img class="pdyn-img" src="<%=v%>">\n                </div>\n            <%\n                })\n            %>\n        </div>\n        <div class="fa fa-chevron-right person-dyn-item person-dyn-icon"></div>\n    </div>\n\n\n    <div class="person-main-item person-other">\n        <div class="person-other-item">城市: <%=info.area %></div>\n        <div class="person-other-item">签名: <%=info.signature %></div>\n    </div>\n</div>\n\n\n<div class="box-center person-bottom pc-fixed">\n    <div class="person-bottom-btn box-center person-bottom-talk">对话</div>\n    <a class="person-bottom-btn box-center person-bottom-phone" href="tel:<%=info.mobile %>">电话</a>\n</div>\n'),define("tpl/person_dyn.tpl",[],'<div id="persondyn-wp">\n    <div class="persondyn-box">\n        <div class="persondyn-head">\n            <div class="persondyn-head-box">\n                <div class="persondyn-head-imgs">\n                    <img src="<%=icon %>" class="persondyn-head-img">\n                </div>\n                <div class="persondyn-head-name"><%=realname %></div>\n            </div>\n\n        </div>\n\n\n        <div class="persondyn-main">\n            <div class="dyn-content">\n                <%-tpl.render(tpl_dci,{rows : rows,pageType:pageType}) %>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'),define("tpl/person_reply.tpl",[],'\n<div class="kw-pop-panel prep-more-pl">\n    <div class="fa fa-caret-up kw-opt-panel-arrow"></div>\n    <div class="kw-opt-panel-list">\n        <div class="kw-pop-panel-item prep-more-del">删除</div>\n    </div>\n\n</div>\n\n<%-tpl.render(tpl_dyn_item,{\'rows\':[comment],\'pageType\':\'person_reply\'}) %>\n\n<div class="pson-rep-main">\n    <div class="kw-title pson-rep-title">评论<span class="prp-s-title">(共有<%-list.length%>条评论)</span></div>\n    <div class="pson-rep-box">\n        <%\n        list.forEach(function(v,k){\n        %>\n        <div class="kw-box kw-wp pson-rep-item">\n            <div data-href="#/person?uid=<%=v.uid %>" class="j-href kw-box-center pson-rep-item-l">\n                <img src="<%=v.icon %>" class="prep-item-head">\n            </div>\n            <div class="kw-box-v pson-rep-item-r">\n                <div class="kw-txt-li kw-text-over prep-comm-name"><%=v.username %></div>\n                <div class="kw-txt-li prep-content"><%=v.content %></div>\n                <div class="kw-txt-li prep-comm-time"><%-time.diff(v.posttime) %></div>\n            </div>\n        </div>\n        <%\n        })\n        %>\n    </div>\n</div>\n\n\n\n\n\n\n\n\n\n<div class="f-bottom kw-box pson-rep-bootom pc-fixed">\n    <div data-href="#/person_replay_post?did=<%=did %>" class="j-href kw-box-center prep-bottom-item prep-bottom-rev">\n        <div class="fa fa-comment-o prep-bottom-icon"></div>\n        <div class="prep-bottom-texst">评论</div>\n    </div>\n    <div class="kw-box-center prep-bottom-item" style="display: none;">\n        <div class="prep-bottom-icon"></div>\n        <div class="prep-bottom-texst">对话</div>\n    </div>\n</div>\n'),define("tpl/person_reply_post.tpl",[],'<div class="prp-main">\n    <div class="prp-intext-fix">\n        <textarea class="prp-main-intext" placeholder="发评论..."></textarea>\n    </div>\n</div>'),define("tpl/rank.tpl",[],'\n\n<div class="rank-main">\n    <div class="rank-list">\n        <%\n        data.forEach(function(v,k){\n        %>\n        <div class="kw-li rank-li">\n            <div class="kw-box-a-v rank-li-item rank-li-l"><%=k %></div>\n            <div data-href="#/person?uid=<%=v.uid %>" class="j-href kw-box-a-v  rank-li-item rank-li-m">\n                <img class="rank-li-m-img" src="<%=v.face %>">\n            </div>\n            <div class="kw-box-v rank-li-item rank-li-r">\n                <div class="kw-txt-li">\n                    <span class="rank-li-name"><%=v.realname %></span>\n                    <span class="rank-li-fans">粉丝 <%=v.fans %></span>\n                </div>\n                <div class="kw-txt-li">\n                    <span class="kw-text-over rank-li-pinpai"><%=v.pinpai %></span>\n                </div>\n            </div>\n        </div>\n\n        <%\n        })\n        %>\n    </div>\n</div>\n'),define("tpl/recent.tpl",[],'\n\n\n\n\n<div class="construction">页面正在施工...</div>'),define("tpl/reg.tpl",[],'<div class="reg-main">\n    <div class="kw-wp reg-group">\n        <div class="kw-box-a-v kw-wp reg-phone-box">\n            <div class="fa fa-mobile reg-icon reg-phone-icon"></div>\n            <div class="kw-flex1 reg-phone-input">\n                <div class="kw-input01">\n                    <div class="kw-input01-b kw-input01-l"></div>\n                    <input class="kw-input01-val" placeholder="请输入您的手机号码" name="mobile" type="number" value="" />\n                    <div class="kw-input01-b kw-input01-r"></div>\n                </div>\n            </div>\n            <div class="btn-green reg-phone-getCode">获取验证码</div>\n        </div>\n\n        <div class="kw-box-a-v kw-wp">\n            <div class="fa fa-lock reg-icon reg-password-icon"></div>\n            <div class="kw-flex1 ">\n                <div class="kw-input01">\n                    <div class="kw-input01-b kw-input01-l"></div>\n                    <input class="kw-input01-val " placeholder="请输入您的密码,6-18位" name="password" type="password" value="" />\n                    <div class="kw-input01-b kw-input01-r"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="kw-wp reg-group">\n        <div class="kw-box-a-v kw-wp ">\n            <div class="fa fa-edit reg-icon reg-vcode-icon"></div>\n            <div class="kw-flex1">\n                <div class="kw-input01">\n                    <div class="kw-input01-b kw-input01-l"></div>\n                    <input class="kw-input01-val " placeholder="请输手机上获取的验证码" name="serial" type="number" value="" />\n                    <div class="kw-input01-b kw-input01-r"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="kw-box-a-h kw-wp reg-confirm">\n        <div class="btn-green reg-confirm-box">注册</div>\n    </div>\n</div>'),define("tpl/sel_brand.tpl",[],'<div class="sel-brand">\n    <ul class="sel-brand-list">\n        <%\n        categories.forEach(function(v,k){\n        %>\n        <li catid="<%=v.catid %>" class="kw-li kw-box-a-v sel-brand-item">\n            <div class="kw-flex1 sel-brand-name"><%=v.name %></div>\n            <input ui_label=".sel-brand-item" class="sel-brand-icon" name="cate_name" type="radio" value=""/>\n        </li>\n        <%\n        })\n        %>\n    </ul>\n</div>'),define("tpl/sel_city.tpl",[],'<div class="sel-sf">\n\n    <div class="kw-box-center scroll-sel-root sel-sf-root ">\n        <div class="scroll-sel-box sel-sf-box">\n            <ul class="scroll-sel-list sel-sf-list">\n                <%\n                cities.forEach(function(v,k){\n                %>\n                <li province_id="<%=v.province_id %>"  class="scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                })\n                %>\n            </ul>\n        </div>\n\n        <div class="scroll-sel-box sel-sf-box">\n            <%\n            cities.forEach(function(v,k){\n            %>\n            <ul class="<%if(k != 0){%>hide<%}%> scroll-sel-list sel-sf-list">\n                <%\n                v.city.forEach(function(v,k){\n                %>\n                <li aid="<%=v.aid %>"  class="kw-text-over scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                })\n                %>\n            </ul>\n            <%\n            })\n            %>\n        </div>\n    </div>\n    <%\n    if(pageType == \'1\'){\n    %>\n    <div  class=" btn-green kw-f-bottom head2-b-btn sel-city-ok pc-fixed">完成</div>\n    <%\n    }\n    %>\n</div>'),define("tpl/sel_head.tpl",[],'<form class="sel-head" >\n    <div class="kw-wp kw-box-center kw-box-v sel-head-upload">\n        <div class="kw-upload-root sel-head-face-box">\n            <div class="kw-upload-item kw-upload-box">\n                <img class="sel-head-face-img kw-upload-img" src="<%-C.noface1 %>">\n                <input type="file"  class="kw-upload-file sel-head-face" name="face" value="" id="sel-head-face" />\n            </div>\n        </div>\n\n        <div class="sel-head-face-text">点击图标上传头像</div>\n    </div>\n\n    <div class="kw-wp kw-box-center kw-box-v sel-head-name">\n        <div class="sel-head-name-box">\n            <div class="kw-input01">\n                <div class="kw-input01-b kw-input01-l"></div>\n                <input class="kw-input01-val login-input login-username" placeholder="请输入您的真实姓名" name="realname" type="text" >\n                <div class="kw-input01-b kw-input01-r"></div>\n            </div>\n        </div>\n    </div>\n</form>'),define("tpl/sel_identity.tpl",[],'<div class="sel-sf">\n\n    <div class="kw-box-center scroll-sel-root sel-sf-root ">\n        <div class="scroll-sel-box sel-sf-box">\n            <ul class="scroll-sel-list sel-sf-list">\n                <%\n                c_type.forEach(function(v,k){\n                %>\n                <li typeid="<%=v.typeid %>" class="scroll-sel-li sel-sf-list-item <%if(k==0){%> active <%}%>>"><%=v.typename %></li>\n                <%\n                    })\n                %>\n            </ul>\n        </div>\n    </div>\n\n    <div class="kw-wp sel-sf-company">\n\n        <div class=" kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input type="text" class="kw-input sel-sf-cp-input" name="company_name" placeholder="请输入公司名称"/>\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n\n        <div class=" kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input type="text" class="kw-input sel-sf-cp-input" name="company_addr" placeholder="请输入公司地址"/>\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n    </div>\n\n    <div  class="btn-green kw-f-bottom sel-sf-next pc-fixed">下一步</div>\n</div>'),define("tpl/sel_product.tpl",[],'<div class="sel-sf">\n\n    <div class="kw-box-center scroll-sel-root sel-sf-root ">\n        <div class="scroll-sel-box sel-sf-box">\n            <ul class="scroll-sel-list sel-sf-list">\n                <%\n                categories.forEach(function(v,k){\n                %>\n                <li catid="<%=v.catid %>"  class="scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                    })\n                %>\n            </ul>\n        </div>\n\n        <div class="scroll-sel-box sel-sf-box">\n            <%\n            categories.forEach(function(v,k){\n            %>\n            <ul class="<%if(k != 0){%>hide<%}%> scroll-sel-list sel-sf-list">\n                <%\n                v.sub_categories.forEach(function(v,k){\n                %>\n                <li catid="<%=v.catid %>"  class="kw-text-over scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                    })\n                %>\n            </ul>\n            <%\n            })\n            %>\n        </div>\n\n\n\n\n\n    </div>\n    <%\n        if(pageType == \'1\'){\n    %>\n    <div data-href="#/sel_brand" class="btn-green kw-f-bottom sel-sf-next pc-fixed">下一步</div>\n    <% \n        }\n    %>\n</div>'),define("widget/alert",[],function(a,b,c){"use strict";
function d(a,b){function c(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}var d=b||{},e={},f=this;this.$obj=$(a),d.width?e.width=d.width:!1,this.$obj.css(e);{var g=Array.isFunction||c("Function"),h=Array.isString||c("String"),i=Array.isNumber||c("Number");Array.isObject||c("Object")}return function(){var a=Array.prototype.slice.call(arguments);setTimeout(function(){var b,c,d,e;b=f.$obj,c="更改成功",d=1500,a.forEach(function(a){g(a)?e=a:h(a)?c=a:i(a)&&(d=a)}),b.show(),b.find(".alert-text").text(c),b.css({"margin-left":b.width()/2*-1,"margin-top":b.height()/2*-1}).addClass("active"),clearTimeout(alert.timeout),alert.timeout=setTimeout(function(){e?e():"",b.hide().removeClass("active")},d)},10)}}d.prototype.show=function(){},c.exports=d}),define("widget/baiduMap",[],function(a,b,c){"use strict";function d(){this.config={},d.loadNum=0}function e(a){var b=document.createElement("script"),c="baiduMap_"+(new Date).getTime();window[c]=a,b.type="text/javascript",b.src="http://api.map.baidu.com/api?v=2.0&ak="+C.mapKey+"&callback="+c,document.body.appendChild(b)}var f=lang.extend;d.prototype.init=function(a){function b(){d.isLoad=!1,c.init=!0,a?a():""}var c=this;d.isLoad||e(b)},d.prototype.getGeo=function(a){var b=new BMap.Geolocation;b.getCurrentPosition(function(b){var c={status:200,msg:"请求成功"};this.getStatus()==BMAP_STATUS_SUCCESS?f(c,{data:b}):f(c,{status:400,msg:"请求失败"}),a?a(c):""},{enableHighAccuracy:!0})},c.exports=d}),define("widget/banner",["iScroll"],function(a,b,c){"use strict";function d(a,b){setTimeout(function(){function c(a){j&&j.size()>0&&(j.removeClass("active"),j.eq(a).addClass("active"))}var d,f,g,h,i,j,k,l,m={snap:!0,momentum:!1,vScroll:!1,hScrollbar:!1},n=b||{},o={},p=n.autoTime||1500,q='<div class="banner-btn"></div>',r="",s=n.curPageX||0,t=void 0==n.autoPlay?!0:n.autoPlay;d=this.$root=$("#"+a),k=n.clientWidth||d.width(),g=d.find(".banner-content"),h=g.find(".banner-content-item"),h.each(function(a){h.eq(a).css("width",k),r+=q}),g.css("width",h.size()*k),i=d.find(".banner-btns"),i.size()<=0&&n.btns&&(i=$(n.btns)),i.size()>0&&(i.append(r),j=i.find(".banner-btn")),"static"==d.css("position")&&d.css("position","relative"),o.onScrollStart=n.onScrollStart,o.onScrollEnd=n.onScrollEnd,o.onPageChange=n.onPageChange,n.onScrollStart=function(a){f?f.stop():"",o.onScrollStart?o.onScrollStart(a):""},n.onScrollEnd=function(a){s=l.currPageX,f?f.start():"",c(s),o.onScrollEnd?o.onScrollEnd(a):""},n.onPageChange=function(a){c(s),o.onPageChange?o.onPageChange(a):""},l=this.iScroll=new e.iScroll(a,lang.extend(m,n)),l.scrollToPage(s),t&&j&&j.size()>0&&(f=new lang.loop(function(){s++,s>f.maxPageX&&(s=0),l.scrollToPage(s)},p),f.maxPageX=h.size()-1,f.start()),c(s)},50)}var e=a("iScroll");c.exports=d}),define("widget/common",["widget/alert","net","widget/query_box","widget/ui","widget/upload"],function(a,b){"use strict";function c(a){c.show(c.config(a))}var d,e,f,g=$(document),h=b,i=a("widget/alert"),j=a("net"),k=a("widget/query_box"),l=a("widget/ui");b.eventChange=function(a){if("pc"!=sys.platform)switch(a){case"click":a="click";break;case"mousedown":a="touchstart";break;case"mouseup":a="touchend";break;case"mousemove":a="touchmove"}return a},d=b.eventChange,e=d("click"),f=d("mousedown"),g.on(e,".j-href",function(){var a=$(this);location.hash=a.attr("data-href")});var m={};g.on(e,".j-back",function(){history.back(),m.timeout=setTimeout(function(){location.hash="#/dyn"},500)}),window.addEventListener("hashchange",function(){clearTimeout(m.timeout)},!1),g.on("focus",".kw-input01",function(){var a=$(this);a.addClass("active")}),g.on("blur",".kw-input01",function(){var a=$(this);a.removeClass("active")});var n=$("#bottom-nav"),o=n.find(".nav-item");b.navAct=function(a){var b=o.eq(a);o.removeClass("active"),b.addClass("active"),n.css("display","-webkit-box")},b.navHide=function(){n.hide()},document.unlock={},document.lock={},g.on("click",function(){document.lock["filterBar:hide"]||agent.trigger("filterBar:hide"),document.unlock["person_reply:hide"]&&agent.trigger("person_reply:hide")});var p=new i("#common-alert");b.alert=function(){var a=Array.prototype.slice.call(arguments);a[0]?"":a[0]=C.alert_aet,p.apply(this,a)},b.clearHTML=function(a){setTimeout(function(){a.html("")},20)};var q=$("#loading");b.loadShow=function(){q.css("display","-webkit-box")},b.loadHide=function(){q.hide()},b.error=function(){b.alert(C.aet)},b.setUserInfo=function(a){cookie("_pccn_userinfo",JSON.stringify(lang.extend(C.userInfo,a)),{expires:7})},b.getUserInfo=function(){return cookie("_pccn_userinfo")?C.userInfo=JSON.parse(cookie("_pccn_userinfo")):(location.hash="#/login_wel",!1)},b.clearUserInfo=function(){cookie("_pccn_userinfo",null)},b.userCheck=function(){j.ajax({url:C.api.login,type:"post",data:{},isCache:0,success:_success,error:_error})};var r=$("#globle-mask");b.maskShow=function(a){b.maskSet(a),r.show()},b.maskHide=function(a){b.maskSet(a),r.hide()},b.maskSet=function(a){var b=a||{},c=b.top||0;r.css({top:c})},b.maskClick=function(){setTimeout(function(){r.trigger("click")},30)},g.on("click","#globle-mask",function(){b.query_box.hide(),agent.trigger("dpp-popup:notClass")});var s=b.query_box=new k("#globle-query-box",r);s.onShow=function(){b.maskShow()},s.onHide=function(){b.maskHide()},b.getCity=function(){var a,b=localStorage,c="_pccn_view_city",d=b[c];return d?a=JSON.parse(d):(a={aid:1,name:"广州"},b[c]=JSON.stringify(a)),a},b.setCity=function(a){var b=localStorage,c="_pccn_view_city";b[c]=JSON.stringify(a)},b.get_sel_sf=function(){var a=sessionStorage,b=a._pccn_sel_sf;return b?JSON.parse(b):(location.hash="#/sel_sel_identity",!1)},b.set_sel_sf=function(a){var b=sessionStorage,c=b._pccn_sel_sf;c=c?JSON.parse(c):{},b._pccn_sel_sf=JSON.stringify(lang.extend(c,a))},b.is_weixn=function(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1},b.comp_address=function(){var a=common.getUserInfo();return(a.city||"")+(a.area||"")+(a.street||"")+(a.street_number||"").replace("/号*/i","号")};var t=$("#alert-white"),u=$("#mask-white"),v=0;c.config=function(a){var b={text:a.text||"正在处理,请稍后..",time:a.time||"none"};return lang.extend(b,a)},c.show=function(a){var b=c.config(a);b.onShow?b.onShow():"",u.show(),clearTimeout(v),t.find(".alert-text").text(b.text),t.show(),l.center(t),"none"==!b.time&&(clearTimeout(v),v=setTimeout(function(){c.hide(b)},b.time))},c.hide=function(a){var b=a||{};u.hide(),b.onHide?b.onHide():"",t.hide()},b.alert_w=c;var w=a("widget/upload"),x=new w;x.config({onFronts:function(){common.alert_w.show({text:C.alert_tpzzclz})},onCompletes:function(){common.alert_w.hide()},onNotypes:function(){common.alert(C.alert_bzcglx)}}),h.upload=x,b.fixALert=function(a){b.alert(a||C.alert_aet)},g.on("click",".j-dyn-like",function(){function a(a){c.hasClass("active")?c.removeClass("active"):c.addClass("active"),200==a.status?(c.closest(".dyn-item").find(".prpb-like-num").text(a.data.nums),common.alert(a.error_msg)):b(a)}function b(a){common.alert(a.error_msg)}var c=$(this),d=common.getUserInfo();d&&(common.alert(C.alert_post),j.ajax({url:C.api.demands,data:{uid:d.uid,did:c.attr("did")},isCache:0,isOnFront:0,success:a,error:b}))}),b.wx_set_share=function(a){window.my_wx&&my_wx.setShare(a)},setTimeout(function(){g.on("click","#download-tip .dltr-close",function(){$("#download-tip").hide()})},100)}),define("widget/console",[],function(a,b){"use strict";var c,d,e,f,g;return isPc?console:(c='<div id="console"><div class="close"></div><div class="mask"></div><div class="console-content"></div></div>',$("body").append(c),d=$("#console"),e=d.find(".console-content"),f=d.find(".mask"),g=d.find(".close"),d.css({width:"80%",color:"#fff",position:"fixed",top:"50px",borderRadius:"7px",overflow:"hidden",left:"50%",zIndex:999}),d.css({marginLeft:d.width()/2*-1}),f.css({width:"100%",height:"100%",backgroundColor:"#000",opacity:"0.5",position:"absolute"}),e.css({height:"100%",position:"relative",zIndex:998,padding:"10px",textAlign:"center",lineHeight:"19px"}),g.css({position:"absolute",right:"10px",top:"-5px"}),b.log=function(a){e.html(a)},void(b.kenway=function(a){e.text(a)}))}),define("widget/debug",[],function(){"use strict"}),define("widget/dyn_like",[],function(a,b){"use strict";b.click=function(){}}),define("widget/favorite",[],function(){"use strict";var a=lang.extend,b=$(document);b.on("click",".j-favorite",function(){function b(a){var b=e.attr("follow");common.alert(a.error_msg),1==b?(e.attr("follow",0),e.text("关注")):(e.attr("follow",1),e.text("已关注"))}function c(){common.alert(C.aet)}var d,e;e=$(this),common.alert(C.alert_post),d={url:C.api.favorite,isOnFront:0,type:"post",isCache:0,data:{},success:b,error:c};var f={data:this.ajax_data};d=a(d,f),d.data.idtype="member",net.ajax(d)})}),define("widget/file",[],function(a,b,c){"use strict";var d=window;d.URL=d.URL||d.webkitURL,d.requestFileSystem=d.requestFileSystem||d.webkitRequestFileSystem,d.resolveLocalFileSystemURL=d.resolveLocalFileSystemURL||d.webkitResolveLocalFileSystemURL,navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage,navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage,d.BlobBuilder=d.BlobBuilder||d.MozBlobBuilder||d.WebKitBlobBuilder;var e=function(){};e.prototype.prototype=Error.prototype;var f={toArray:function(a){return Array.prototype.slice.call(a||[],0)},strToDataURL:function(a,b,c){var e=void 0!=c?c:!0;return e?"data:"+b+";base64,"+d.btoa(a):"data:"+b+","+a},strToObjectURL:function(a,b){for(var c=new Uint8Array(a.length),e=0;e<c.length;++e)c[e]=a.charCodeAt(e);var f=new Blob([c],b?{type:b}:{});return d.URL.createObjectURL(f)},fileToObjectURL:function(a){return d.URL.createObjectURL(a)},fileToArrayBuffer:function(a,b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c&&c(a)},d.readAsArrayBuffer(a)},dataURLToBlob:function(a){var b=";base64,";if(-1==a.indexOf(b)){var c=a.split(","),d=c[0].split(":")[1],e=decodeURIComponent(c[1]);return new Blob([e],{type:d})}for(var c=a.split(b),d=c[0].split(":")[1],e=window.atob(c[1]),f=e.length,g=new Uint8Array(f),h=0;f>h;++h)g[h]=e.charCodeAt(h);return new Blob([g],{type:d})},arrayBufferToBlob:function(a,b){var c=new Uint8Array(a);return new Blob([c],b?{type:b}:{})},arrayBufferToBinaryString:function(a,b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c&&c(a)};var e=new Uint8Array(a);d.readAsBinaryString(new Blob([e]))},arrayToBinaryString:function(a){if(typeof a!=typeof[])return null;for(var b=a.length,c=new Array(b);b--;)c[b]=String.fromCharCode(a[b]);return c.join("")},getFileExtension:function(a){var b=a.lastIndexOf(".");return-1!=b?a.substring(b):""}},g=function(a){this.prototype=e.prototype,this.code=a.code,this.name=a.name};e.BROWSER_NOT_SUPPORTED=1e3,e.prototype.__defineGetter__("name",function(){for(var a,b=Object.keys(e),c=0;a=b[c];++c)if(e[a]==this.code)return a;return"Unknown Error"});var h=new function(){function a(a){l=a||null,l&&(m=l.root,n=!0)}var b="Filesystem has not been initialized.",c="Not implemented.",h="Path was not a directory.",i="These method arguments are not supported.",j="filesystem:",k=1048576,l=null,m=null,n=!1,o=function(a){return 0==a.indexOf(j)},p=function(a){return o(a)||(a="/"==a[0]?l.root.toURL()+a.substring(1):0==a.indexOf("./")||0==a.indexOf("../")?"../"==a&&m!=l.root?m.toURL()+"/"+a:m.toURL()+a:m.toURL()+"/"+a),a},q=function(a){var b=arguments[1],c=arguments[2],f=function(a){throw new Error(a.code==e.NOT_FOUND_ERR?c?'"'+b+'" or "'+c+'" does not exist.':'"'+b+'" does not exist.':"Problem getting Entry for one or more paths.")},g=p(b);if(3==arguments.length){var h=p(c);d.resolveLocalFileSystemURL(g,function(b){d.resolveLocalFileSystemURL(h,function(c){a(b,c)},f)},f)}else d.resolveLocalFileSystemURL(g,a,f)},r=function(a,c,d,e,f,g){if(!l)throw new Error(b);if(typeof a!=typeof c)throw new Error(i);var h=d||null,j=void 0!=g?g:!1;(a.isFile||c.isDirectory)&&c.isDirectory?j?a.moveTo(c,h,e,f):a.copyTo(c,h,e,f):q(function(a,b){if(!b.isDirectory){var c=new Error('Oops! "'+b.name+" is not a directory!");if(!f)throw c;return void f(c)}j?a.moveTo(b,h,e,f):a.copyTo(b,h,e,f)},a,c)};return a.DEFAULT_FS_SIZE=k,a.version="0.4.3",a.prototype={get fs(){return l},get isOpen(){return n},get cwd(){return m}},a.prototype.pathToFilesystemURL=function(a){return p(a)},a.prototype.init=function(a,b,c){if(!d.requestFileSystem)throw new g({code:e.BROWSER_NOT_SUPPORTED,name:"BROWSER_NOT_SUPPORTED"});var f=a?a:{},h=f.size||k;this.type=d.TEMPORARY,"persistent"in f&&f.persistent&&(this.type=d.PERSISTENT);var i=function(a){this.size=h,l=a,m=l.root,n=!0,b&&b(a)};this.type==d.PERSISTENT&&navigator.persistentStorage?navigator.persistentStorage.requestQuota(h,function(a){d.requestFileSystem(this.type,a,i.bind(this),c)}.bind(this),c):d.requestFileSystem(this.type,h,i.bind(this),c)},a.prototype.ls=function(a,c,d){if(!l)throw new Error(b);var e=function(a){m=a;var b=[],e=m.createReader(),g=function(){e.readEntries(function(a){a.length?(b=b.concat(f.toArray(a)),g()):(b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0}),c(b))},d)};g()};a.isDirectory?e(a):o(a)?q(e,a):m.getDirectory(a,{},e,d)},a.prototype.mkdir=function(a,c,d,f){if(!l)throw new Error(b);var g=null!=c?c:!1,h=a.split("/"),i=function(b,c){("."==c[0]||""==c[0])&&(c=c.slice(1)),b.getDirectory(c[0],{create:!0,exclusive:g},function(b){if(b.isDirectory)c.length&&1!=h.length?i(b,c.slice(1)):d&&d(b);else{var e=new Error(a+" is not a directory");if(!f)throw e;f(e)}},function(b){if(b.code==e.INVALID_MODIFICATION_ERR){if(b.message="'"+a+"' already exists",!f)throw b;f(b)}})};i(m,h)},a.prototype.open=function(a,c,d){if(!l)throw new Error(b);a.isFile?a.file(c,d):q(function(a){a.file(c,d)},p(a))},a.prototype.create=function(a,c,d,f){if(!l)throw new Error(b);var g=null!=c?c:!0;m.getFile(a,{create:!0,exclusive:g},d,function(b){if(b.code==e.INVALID_MODIFICATION_ERR&&(b.message="'"+a+"' already exists"),!f)throw b;f(b)})},a.prototype.mv=function(a,b,c,d,e){r.bind(this,a,b,c,d,e,!0)()},a.prototype.rm=function(a,c,d){if(!l)throw new Error(b);var e=function(a){a.isFile?a.remove(c,d):a.isDirectory&&a.removeRecursively(c,d)};a.isFile||a.isDirectory?e(a):q(e,a)},a.prototype.cd=function(a,c,d){if(!l)throw new Error(b);if(a.isDirectory)m=a,c&&c(m);else{var a=p(a);q(function(a){if(a.isDirectory)m=a,c&&c(m);else{var b=new Error(h);if(!d)throw b;d(b)}},a)}},a.prototype.cp=function(a,b,c,d,e){r.bind(this,a,b,c,d,e)()},a.prototype.write=function(a,c,d,e){if(!l)throw new Error(b);var f=function(a){a.createWriter(function(b){if(b.onerror=e,c.append)b.onwriteend=function(){d&&d(a,this)},b.seek(b.length);else{var f=!1;b.onwriteend=function(){return f?void(d&&d(a,this)):(f=!0,void this.truncate(this.position))}}c.data.__proto__==ArrayBuffer.prototype&&(c.data=new Uint8Array(c.data));var g=new Blob([c.data],c.type?{type:c.type}:{});b.write(g)},e)};a.isFile?f(a):o(a)?q(f,a):m.getFile(a,{create:!0,exclusive:!1},f,e)},a.prototype.df=function(a,b){var e=function(b,c){a(b,c-b,c)};if(!navigator.temporaryStorage.queryUsageAndQuota||!navigator.persistentStorage.queryUsageAndQuota)throw new Error(c);d.TEMPORARY==this.type?navigator.temporaryStorage.queryUsageAndQuota(e,b):d.PERSISTENT==this.type&&navigator.persistentStorage.queryUsageAndQuota(e,b)},a};c.exports=h}),define("widget/filterBar",["tpl/filterBar.tpl"],function(a,b,c){"use strict";function d(b,c,d){function e(){m.rst=[],c.forEach(function(a){m.rst.push(a.sub[0].catid)})}function f(a){var b,d,f;f=a.closest(".filterBar-item"),b=f.find(".filterBar-title"),d=b.find(".filterBar-title-text"),d.text(a.text()),g();var i=f.index();if(0===i){e();var k=c[0].sub[a.index()].sub_categories;j.eq(1).html(tpl.render(l,{data:k})).css("height","auto").data("height",j.eq(1).css("height")).css("height",0),h.eq(1).find(".filterBar-title-text").text(k[0].name)}m.rst[i]=a.attr("catid"),agent.trigger("home:expert:update",{reset:!0,page:1,clearData:!0})}function g(){h.find(".filterBar-title-icon").removeClass("active"),h.removeClass("active"),setTimeout(function(){j.css("height",0).data("act",!0),common.maskHide()},10)}var h,i,j,k=a("tpl/filterBar.tpl"),l=a("tpl/filterBar_content.tpl"),m=this;this.$root=b,e(),this.data=c,b.html(tpl.render(k,{data:c})),j=b.find(".filterBar-content"),h=b.find(".filterBar-title"),i=h.find(".filterBar-title-icon"),setTimeout(function(){j.eq(0).append(tpl.render(l,{data:c[0].sub})),j.eq(2).append(tpl.render(l,{data:c[2].sub})),j.each(function(a){var b=j.eq(a);b.data({height:b.css("height"),act:!0}).css("height",0)}),setTimeout(function(){f(b.find(".filterBar-content-item").eq(d))},10)},20),b.data("hasLock")||(b.bind("touchstart",function(){document.lock["filterBar:hide"]=!0}),b.bind("touchend",function(){document.lock["filterBar:hide"]=!1}),b.data("hasLock",!0)),b.off("click"),b.on("click",".filterBar-title",function(){var a,b=$(this),c=b.closest(".filterBar-item").find(".filterBar-content");h.removeClass("active"),i.removeClass("active"),a=b.find(".filterBar-title-icon");var d=c.data("act");d?(g(),b.addClass("active"),a.addClass("active"),setTimeout(function(){c.css("height",c.data("height")).data("act",!1),common.maskShow({top:85})},320)):(b.removeClass("active"),a.removeClass("active"),g())}),b.on("click"," .filterBar-content-item",function(){f($(this))}),agent.off("filterBar:hide",g),agent.on("filterBar:hide",g)}d.prototype.update=function(){},c.exports=d}),define("widget/form",[],function(a,b){"use strict";function c(a){function b(a){a.length>0&&a.each(function(b){var c=a.eq(b),d=c.attr("name");g[d]="file"==c.attr("type")?c[0].files[0]:c.val()})}var c,d,e,f,g={},h={};return c=$(a),d=c.find("input"),b(d.filter("[type=text]")),b(d.filter("[type=password]")),b(d.filter("[type=checkbox]")),b(d.filter("[type=hidden]")),b(d.filter("[type=number]")),b(d.filter("[type=tel]")),b(d.filter("[type=date]")),b(d.filter("[type=file]")),b(c.find("textarea")),e=d.filter("[type=radio]"),e.length>0&&(e.each(function(a){var b=e.eq(a),c=b.attr("name");h[c]||(h[c]=[]),h[c].push(b)}),function(){var a,b,c;for(a in h){b=h[a];for(var d=0,e=b.length;e>d;d++)b[d][0].checked&&(c=d);g[a]=c}}()),f=c.find("select"),f.length>0&&f.each(function(a){var b,c,d=f.eq(a),e=d.attr("name");c=d.find("option"),c.each(function(a){var d=c.eq(a);d[0].selected&&(b=c.eq(a).val())}),g[e]=b}),g}function d(a){var b,c;b=$(a),c=b.find("input"),e(b,c.filter("[type=radio]"))}function e(a,b){var c,d={};b.each(function(a){var c,e=b.eq(a);e.hide(),e.wrap('<div class="fa fa-circle-o kw-radio">'),c=e.attr("ui_label")||".kw-radio",d[c]||(d[c]=c)});for(c in d)a.on("click",d[c],function(){var b,c,d,e=$(this),f=e.find("input");c=f.attr("name"),b=a.find("[name="+c+"]"),d=f.closest(".kw-radio"),b.each(function(a){var c=b.eq(a);c[0].checked=!1,c.closest(".kw-radio").removeClass("fa-dot-circle-o")}),f[0].checked=!0,d.addClass("fa-dot-circle-o")})}b.getFormData=c,b.ui=d}),define("widget/iscroll",[],function(a,b){"use strict";function c(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var d=Math,e=document,f=e.createElement("div").style,g=function(){for(var a,b="t,webkitT,MozT,msT,OT".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=c("transform"),j=c("transitionProperty"),k=c("transitionDuration"),l=c("transformOrigin"),m=c("transitionTimingFunction"),n=c("transitionDelay"),o=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),q=/hp-tablet/gi.test(navigator.appVersion),r=c("perspective")in f,s="ontouchstart"in window&&!q,t=g!==!1,u=c("transition")in f,v="onorientationchange"in window?"orientationchange":"resize",w=s?"touchstart":"mousedown",x=s?"touchmove":"mousemove",y=s?"touchend":"mouseup",z=s?"touchcancel":"mouseup",A=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[g]}(),B=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),C=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),D=r?" translateZ(0)":"",E=function(a,b){var c,d=this;d.wrapper="object"==typeof a?a:e.getElementById(a),d.wrapper.style.overflow="hidden",d.scroller=b.scroller||d.wrapper.children[0],d.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:o,hideScrollbar:p,fadeScrollbar:p&&r,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in b)d.options[c]=b[c];d.x=d.options.x,d.y=d.options.y,d.options.useTransform=t&&d.options.useTransform,d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar,d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar,d.options.zoom=d.options.useTransform&&d.options.zoom,d.options.useTransition=u&&d.options.useTransition,d.options.zoom&&o&&(D=""),d.scroller.style[j]=d.options.useTransform?h+"transform":"top left",d.scroller.style[k]="0",d.scroller.style[l]="0 0",d.options.useTransition&&(d.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),d.options.useTransform?d.scroller.style[i]="translate("+d.x+"px,"+d.y+"px)"+D:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px",d.options.useTransition&&(d.options.fixedScrollbar=!0),d.refresh(),d._bind(v,window),d._bind(w),s||"none"!=d.options.wheelAction&&(d._bind("DOMMouseScroll"),d._bind("mousewheel")),d.options.checkDOMChanges&&(d.checkDOMTime=setInterval(function(){d._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case w:if(!s&&0!==a.button)return;b._start(a);break;case x:b._move(a);break;case y:case z:b._end(a);break;case v:b._resize();break;case"DOMMouseScroll":case"mousewheel":b._wheel(a);break;case A:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(a){var b,c=this;return c[a+"Scrollbar"]?(c[a+"ScrollbarWrapper"]||(b=e.createElement("div"),c.options.scrollbarClass?b.className=c.options.scrollbarClass+a.toUpperCase():b.style.cssText="position:absolute;z-index:100;"+("h"==a?"height:7px;bottom:1px;left:2px;right:"+(c.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(c.hScrollbar?"7":"2")+"px;top:2px;right:1px"),b.style.cssText+=";pointer-events:none;"+h+"transition-property:opacity;"+h+"transition-duration:"+(c.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(c.options.hideScrollbar?"0":"1"),c.wrapper.appendChild(b),c[a+"ScrollbarWrapper"]=b,b=e.createElement("div"),c.options.scrollbarClass||(b.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+h+"background-clip:padding-box;"+h+"box-sizing:border-box;"+("h"==a?"height:100%":"width:100%")+";"+h+"border-radius:3px;border-radius:3px"),b.style.cssText+=";pointer-events:none;"+h+"transition-property:"+h+"transform;"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+h+"transition-duration:0;"+h+"transform: translate(0,0)"+D,c.options.useTransition&&(b.style.cssText+=";"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),c[a+"ScrollbarWrapper"].appendChild(b),c[a+"ScrollbarIndicator"]=b),"h"==a?(c.hScrollbarSize=c.hScrollbarWrapper.clientWidth,c.hScrollbarIndicatorSize=d.max(d.round(c.hScrollbarSize*c.hScrollbarSize/c.scrollerW),8),c.hScrollbarIndicator.style.width=c.hScrollbarIndicatorSize+"px",c.hScrollbarMaxScroll=c.hScrollbarSize-c.hScrollbarIndicatorSize,c.hScrollbarProp=c.hScrollbarMaxScroll/c.maxScrollX):(c.vScrollbarSize=c.vScrollbarWrapper.clientHeight,c.vScrollbarIndicatorSize=d.max(d.round(c.vScrollbarSize*c.vScrollbarSize/c.scrollerH),8),c.vScrollbarIndicator.style.height=c.vScrollbarIndicatorSize+"px",c.vScrollbarMaxScroll=c.vScrollbarSize-c.vScrollbarIndicatorSize,c.vScrollbarProp=c.vScrollbarMaxScroll/c.maxScrollY),void c._scrollbarPos(a,!0)):void(c[a+"ScrollbarWrapper"]&&(t&&(c[a+"ScrollbarIndicator"].style[i]=""),c[a+"ScrollbarWrapper"].parentNode.removeChild(c[a+"ScrollbarWrapper"]),c[a+"ScrollbarWrapper"]=null,c[a+"ScrollbarIndicator"]=null))},_resize:function(){var a=this;setTimeout(function(){a.refresh()},o?200:0)},_pos:function(a,b){this.zoomed||(a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+D:(a=d.round(a),b=d.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(a,b){var c,e=this,f="h"==a?e.x:e.y;e[a+"Scrollbar"]&&(f=e[a+"ScrollbarProp"]*f,0>f?(e.options.fixedScrollbar||(c=e[a+"ScrollbarIndicatorSize"]+d.round(3*f),8>c&&(c=8),e[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px"),f=0):f>e[a+"ScrollbarMaxScroll"]&&(e.options.fixedScrollbar?f=e[a+"ScrollbarMaxScroll"]:(c=e[a+"ScrollbarIndicatorSize"]-d.round(3*(f-e[a+"ScrollbarMaxScroll"])),8>c&&(c=8),e[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px",f=e[a+"ScrollbarMaxScroll"]+(e[a+"ScrollbarIndicatorSize"]-c))),e[a+"ScrollbarWrapper"].style[n]="0",e[a+"ScrollbarWrapper"].style.opacity=b&&e.options.hideScrollbar?"0":"1",e[a+"ScrollbarIndicator"].style[i]="translate("+("h"==a?f+"px,0)":"0,"+f+"px)")+D)},_start:function(a){var b,c,e,f,g,h=this,j=s?a.touches[0]:a;h.enabled&&(h.options.onBeforeScrollStart&&h.options.onBeforeScrollStart.call(h,a),(h.options.useTransition||h.options.zoom)&&h._transitionTime(0),h.moved=!1,h.animating=!1,h.zoomed=!1,h.distX=0,h.distY=0,h.absDistX=0,h.absDistY=0,h.dirX=0,h.dirY=0,h.options.zoom&&s&&a.touches.length>1&&(f=d.abs(a.touches[0].pageX-a.touches[1].pageX),g=d.abs(a.touches[0].pageY-a.touches[1].pageY),h.touchesDistStart=d.sqrt(f*f+g*g),h.originX=d.abs(a.touches[0].pageX+a.touches[1].pageX-2*h.wrapperOffsetLeft)/2-h.x,h.originY=d.abs(a.touches[0].pageY+a.touches[1].pageY-2*h.wrapperOffsetTop)/2-h.y,h.options.onZoomStart&&h.options.onZoomStart.call(h,a)),h.options.momentum&&(h.options.useTransform?(b=getComputedStyle(h.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),c=+(b[12]||b[4]),e=+(b[13]||b[5])):(c=+getComputedStyle(h.scroller,null).left.replace(/[^0-9-]/g,""),e=+getComputedStyle(h.scroller,null).top.replace(/[^0-9-]/g,"")),(c!=h.x||e!=h.y)&&(h.options.useTransition?h._unbind(A):C(h.aniTime),h.steps=[],h._pos(c,e),h.options.onScrollEnd&&h.options.onScrollEnd.call(h))),h.absStartX=h.x,h.absStartY=h.y,h.startX=h.x,h.startY=h.y,h.pointX=j.pageX,h.pointY=j.pageY,h.startTime=a.timeStamp||Date.now(),h.options.onScrollStart&&h.options.onScrollStart.call(h,a),h._bind(x,window),h._bind(y,window),h._bind(z,window))},_move:function(a){var b,c,e,f=this,g=s?a.touches[0]:a,h=g.pageX-f.pointX,j=g.pageY-f.pointY,k=f.x+h,l=f.y+j,m=a.timeStamp||Date.now();return f.options.onBeforeScrollMove&&f.options.onBeforeScrollMove.call(f,a),f.options.zoom&&s&&a.touches.length>1?(b=d.abs(a.touches[0].pageX-a.touches[1].pageX),c=d.abs(a.touches[0].pageY-a.touches[1].pageY),f.touchesDist=d.sqrt(b*b+c*c),f.zoomed=!0,e=1/f.touchesDistStart*f.touchesDist*this.scale,e<f.options.zoomMin?e=.5*f.options.zoomMin*Math.pow(2,e/f.options.zoomMin):e>f.options.zoomMax&&(e=2*f.options.zoomMax*Math.pow(.5,f.options.zoomMax/e)),f.lastScale=e/this.scale,k=this.originX-this.originX*f.lastScale+this.x,l=this.originY-this.originY*f.lastScale+this.y,this.scroller.style[i]="translate("+k+"px,"+l+"px) scale("+e+")"+D,void(f.options.onZoom&&f.options.onZoom.call(f,a))):(f.pointX=g.pageX,f.pointY=g.pageY,(k>0||k<f.maxScrollX)&&(k=f.options.bounce?f.x+h/2:k>=0||f.maxScrollX>=0?0:f.maxScrollX),(l>f.minScrollY||l<f.maxScrollY)&&(l=f.options.bounce?f.y+j/2:l>=f.minScrollY||f.maxScrollY>=0?f.minScrollY:f.maxScrollY),f.distX+=h,f.distY+=j,f.absDistX=d.abs(f.distX),f.absDistY=d.abs(f.distY),void(f.absDistX<6&&f.absDistY<6||(f.options.lockDirection&&(f.absDistX>f.absDistY+5?(l=f.y,j=0):f.absDistY>f.absDistX+5&&(k=f.x,h=0)),f.moved=!0,f._pos(k,l),f.dirX=h>0?-1:0>h?1:0,f.dirY=j>0?-1:0>j?1:0,m-f.startTime>300&&(f.startTime=m,f.startX=f.x,f.startY=f.y),f.options.onScrollMove&&f.options.onScrollMove.call(f,a))))},_end:function(a){if(!s||0===a.touches.length){var b,c,f,g,h,j,l,m=this,n=s?a.changedTouches[0]:a,o={dist:0,time:0},p={dist:0,time:0},q=(a.timeStamp||Date.now())-m.startTime,r=m.x,t=m.y;if(m._unbind(x,window),m._unbind(y,window),m._unbind(z,window),m.options.onBeforeScrollEnd&&m.options.onBeforeScrollEnd.call(m,a),m.zoomed)return l=m.scale*m.lastScale,l=Math.max(m.options.zoomMin,l),l=Math.min(m.options.zoomMax,l),m.lastScale=l/m.scale,m.scale=l,m.x=m.originX-m.originX*m.lastScale+m.x,m.y=m.originY-m.originY*m.lastScale+m.y,m.scroller.style[k]="200ms",m.scroller.style[i]="translate("+m.x+"px,"+m.y+"px) scale("+m.scale+")"+D,m.zoomed=!1,m.refresh(),void(m.options.onZoomEnd&&m.options.onZoomEnd.call(m,a));if(!m.moved)return s&&(m.doubleTapTimer&&m.options.zoom?(clearTimeout(m.doubleTapTimer),m.doubleTapTimer=null,m.options.onZoomStart&&m.options.onZoomStart.call(m,a),m.zoom(m.pointX,m.pointY,1==m.scale?m.options.doubleTapZoom:1),m.options.onZoomEnd&&setTimeout(function(){m.options.onZoomEnd.call(m,a)},200)):this.options.handleClick&&(m.doubleTapTimer=setTimeout(function(){for(m.doubleTapTimer=null,b=n.target;1!=b.nodeType;)b=b.parentNode;"SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&(c=e.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,n.screenX,n.screenY,n.clientX,n.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._fake=!0,b.dispatchEvent(c))},m.options.zoom?250:0))),m._resetPos(400),void(m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a));if(300>q&&m.options.momentum&&(o=r?m._momentum(r-m.startX,q,-m.x,m.scrollerW-m.wrapperW+m.x,m.options.bounce?m.wrapperW:0):o,p=t?m._momentum(t-m.startY,q,-m.y,m.maxScrollY<0?m.scrollerH-m.wrapperH+m.y-m.minScrollY:0,m.options.bounce?m.wrapperH:0):p,r=m.x+o.dist,t=m.y+p.dist,(m.x>0&&r>0||m.x<m.maxScrollX&&r<m.maxScrollX)&&(o={dist:0,time:0}),(m.y>m.minScrollY&&t>m.minScrollY||m.y<m.maxScrollY&&t<m.maxScrollY)&&(p={dist:0,time:0})),o.dist||p.dist)return h=d.max(d.max(o.time,p.time),10),m.options.snap&&(f=r-m.absStartX,g=t-m.absStartY,d.abs(f)<m.options.snapThreshold&&d.abs(g)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(j=m._snap(r,t),r=j.x,t=j.y,h=d.max(j.time,h))),m.scrollTo(d.round(r),d.round(t),h),void(m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a));if(m.options.snap)return f=r-m.absStartX,g=t-m.absStartY,d.abs(f)<m.options.snapThreshold&&d.abs(g)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(j=m._snap(m.x,m.y),(j.x!=m.x||j.y!=m.y)&&m.scrollTo(j.x,j.y,j.time)),void(m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a));m._resetPos(200),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b)),b.hScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.hScrollbarWrapper.style[n]="300ms"),b.hScrollbarWrapper.style.opacity="0"),void(b.vScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.vScrollbarWrapper.style[n]="300ms"),b.vScrollbarWrapper.style.opacity="0"))):void b.scrollTo(c,d,a||0)
},_wheel:function(a){var b,c,d,e,f,g=this;if("wheelDeltaX"in a)b=a.wheelDeltaX/12,c=a.wheelDeltaY/12;else if("wheelDelta"in a)b=c=a.wheelDelta/12;else{if(!("detail"in a))return;b=c=3*-a.detail}return"zoom"==g.options.wheelAction?(f=g.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),f<g.options.zoomMin&&(f=g.options.zoomMin),f>g.options.zoomMax&&(f=g.options.zoomMax),void(f!=g.scale&&(!g.wheelZoomCount&&g.options.onZoomStart&&g.options.onZoomStart.call(g,a),g.wheelZoomCount++,g.zoom(a.pageX,a.pageY,f,400),setTimeout(function(){g.wheelZoomCount--,!g.wheelZoomCount&&g.options.onZoomEnd&&g.options.onZoomEnd.call(g,a)},400)))):(d=g.x+b,e=g.y+c,d>0?d=0:d<g.maxScrollX&&(d=g.maxScrollX),e>g.minScrollY?e=g.minScrollY:e<g.maxScrollY&&(e=g.maxScrollY),void(g.maxScrollY<0&&g.scrollTo(d,e,0)))},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(A),b._startAni())},_startAni:function(){var a,b,c,e=this,f=e.x,g=e.y,h=Date.now();if(!e.animating){if(!e.steps.length)return void e._resetPos(400);if(a=e.steps.shift(),a.x==f&&a.y==g&&(a.time=0),e.animating=!0,e.moved=!0,e.options.useTransition)return e._transitionTime(a.time),e._pos(a.x,a.y),e.animating=!1,void(a.time?e._bind(A):e._resetPos(0));c=function(){var i,j,k=Date.now();return k>=h+a.time?(e._pos(a.x,a.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),void e._startAni()):(k=(k-h)/a.time-1,b=d.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,e._pos(i,j),void(e.animating&&(e.aniTime=B(c))))},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a,this.hScrollbar&&(this.hScrollbarIndicator.style[k]=a),this.vScrollbar&&(this.vScrollbarIndicator.style[k]=a)},_momentum:function(a,b,c,e,f){var g=6e-4,h=d.abs(a)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>e&&(k=f/(6/(i/h*g)),e+=k,h=h*e/i,i=e),i*=0>a?-1:1,j=h/g,{dist:i,time:d.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_snap:function(a,b){var c,e,f,g,h,i,j=this;for(f=j.pagesX.length-1,c=0,e=j.pagesX.length;e>c;c++)if(a>=j.pagesX[c]){f=c;break}for(f==j.currPageX&&f>0&&j.dirX<0&&f--,a=j.pagesX[f],h=d.abs(a-j.pagesX[j.currPageX]),h=h?d.abs(j.x-a)/h*500:0,j.currPageX=f,f=j.pagesY.length-1,c=0;f>c;c++)if(b>=j.pagesY[c]){f=c;break}return f==j.currPageY&&f>0&&j.dirY<0&&f--,b=j.pagesY[f],i=d.abs(b-j.pagesY[j.currPageY]),i=i?d.abs(j.y-b)/i*500:0,j.currPageY=f,g=d.round(d.max(h,i))||200,{x:a,y:b,time:g}},_bind:function(a,b,c){var d=b||this.scroller;d["has_"+a]||(d.addEventListener(a,this,!!c),d["has_"+a]=!0)},_unbind:function(a,b,c){var d=b||this.scroller;d.removeEventListener(a,this,!!c),d["has_"+a]=!1},destroy:function(){var a=this;a.scroller.style[i]="",a.hScrollbar=!1,a.vScrollbar=!1,a._scrollbar("h"),a._scrollbar("v"),a._unbind(v,window),a._unbind(w),a._unbind(x,window),a._unbind(y,window),a._unbind(z,window),a.options.hasTouch||(a._unbind("DOMMouseScroll"),a._unbind("mousewheel")),a.options.useTransition&&a._unbind(A),a.options.checkDOMChanges&&clearInterval(a.checkDOMTime),a.options.onDestroy&&a.options.onDestroy.call(a)},refresh:function(){var a,b,c,e,f=this,g=0,h=0;if(f.scale<f.options.zoomMin&&(f.scale=f.options.zoomMin),f.wrapperW=f.wrapper.clientWidth||1,f.wrapperH=f.wrapper.clientHeight||1,f.minScrollY=-f.options.topOffset||0,f.scrollerW=d.round(f.scroller.offsetWidth*f.scale),f.scrollerH=d.round((f.scroller.offsetHeight+f.minScrollY)*f.scale),f.maxScrollX=f.wrapperW-f.scrollerW,f.maxScrollY=f.wrapperH-f.scrollerH+f.minScrollY,f.dirX=0,f.dirY=0,f.options.onRefresh&&f.options.onRefresh.call(f),f.hScroll=f.options.hScroll&&f.maxScrollX<0,f.vScroll=f.options.vScroll&&(!f.options.bounceLock&&!f.hScroll||f.scrollerH>f.wrapperH),f.hScrollbar=f.hScroll&&f.options.hScrollbar,f.vScrollbar=f.vScroll&&f.options.vScrollbar&&f.scrollerH>f.wrapperH,a=f._offset(f.wrapper),f.wrapperOffsetLeft=-a.left,f.wrapperOffsetTop=-a.top,"string"==typeof f.options.snap)for(f.pagesX=[],f.pagesY=[],e=f.scroller.querySelectorAll(f.options.snap),b=0,c=e.length;c>b;b++)g=f._offset(e[b]),g.left+=f.wrapperOffsetLeft,g.top+=f.wrapperOffsetTop,f.pagesX[b]=g.left<f.maxScrollX?f.maxScrollX:g.left*f.scale,f.pagesY[b]=g.top<f.maxScrollY?f.maxScrollY:g.top*f.scale;else if(f.options.snap){for(f.pagesX=[];g>=f.maxScrollX;)f.pagesX[h]=g,g-=f.wrapperW,h++;for(f.maxScrollX%f.wrapperW&&(f.pagesX[f.pagesX.length]=f.maxScrollX-f.pagesX[f.pagesX.length-1]+f.pagesX[f.pagesX.length-1]),g=0,h=0,f.pagesY=[];g>=f.maxScrollY;)f.pagesY[h]=g,g-=f.wrapperH,h++;f.maxScrollY%f.wrapperH&&(f.pagesY[f.pagesY.length]=f.maxScrollY-f.pagesY[f.pagesY.length-1]+f.pagesY[f.pagesY.length-1])}f._scrollbar("h"),f._scrollbar("v"),f.zoomed||(f.scroller.style[k]="0",f._resetPos(400))},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,e=this;a=a.nodeType?a:e.scroller.querySelector(a),a&&(c=e._offset(a),c.left+=e.wrapperOffsetLeft,c.top+=e.wrapperOffsetTop,c.left=c.left>0?0:c.left<e.maxScrollX?e.maxScrollX:c.left,c.top=c.top>e.minScrollY?e.minScrollY:c.top<e.maxScrollY?e.maxScrollY:c.top,b=void 0===b?d.max(2*d.abs(c.left),2*d.abs(c.top)):b,e.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onPageChange&&f.options.onPageChange.call(f),f.options.snap?(a="next"==a?f.currPageX+1:"prev"==a?f.currPageX-1:a,b="next"==b?f.currPageY+1:"prev"==b?f.currPageY-1:b,a=0>a?0:a>f.pagesX.length-1?f.pagesX.length-1:a,b=0>b?0:b>f.pagesY.length-1?f.pagesY.length-1:b,f.currPageX=a,f.currPageY=b,d=f.pagesX[a],e=f.pagesY[b]):(d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY)),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(x,window),this._unbind(y,window),this._unbind(z,window)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(A):C(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(a,b,c,d){var e=this,f=c/e.scale;e.options.useTransform&&(e.zoomed=!0,d=void 0===d?200:d,a=a-e.wrapperOffsetLeft-e.x,b=b-e.wrapperOffsetTop-e.y,e.x=a-a*f+e.x,e.y=b-b*f+e.y,e.scale=c,e.refresh(),e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y,e.scroller.style[k]=d+"ms",e.scroller.style[i]="translate("+e.x+"px,"+e.y+"px) scale("+c+")"+D,e.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},f=null,"undefined"!=typeof b?b.iScroll=E:window.iScroll=E}),!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define("widget/jweixin-1.0.0",[],function(){return b(a)}):b(a,!0)}(this,function(a,b){function c(b,c,d){a.WeixinJSBridge?WeixinJSBridge.invoke(b,e(c),function(a){g(b,a,d)}):j(b,d)}function d(b,c,d){a.WeixinJSBridge?WeixinJSBridge.on(b,function(a){d&&d.trigger&&d.trigger(a),g(b,a,c)}):d?j(b,d):j(b,c)}function e(a){return a=a||{},a.appId=z.appId,a.verifyAppId=z.appId,a.verifySignType="sha1",a.verifyTimestamp=z.timestamp+"",a.verifyNonceStr=z.nonceStr,a.verifySignature=z.signature,a}function f(a){return{timeStamp:a.timestamp+"",nonceStr:a.nonceStr,"package":a.package,paySign:a.paySign,signType:a.signType||"SHA1"}}function g(a,b,c){var d,e,f;switch(delete b.err_code,delete b.err_desc,delete b.err_detail,d=b.errMsg,d||(d=b.err_msg,delete b.err_msg,d=h(a,d,c),b.errMsg=d),c=c||{},c._complete&&(c._complete(b),delete c._complete),d=b.errMsg||"",z.debug&&!c.isInnerInvoke&&alert(JSON.stringify(b)),e=d.indexOf(":"),f=d.substring(e+1)){case"ok":c.success&&c.success(b);break;case"cancel":c.cancel&&c.cancel(b);break;default:c.fail&&c.fail(b)}c.complete&&c.complete(b)}function h(a,b){var c,d,e,f;if(b){switch(c=b.indexOf(":"),a){case o.config:d="config";break;case o.openProductSpecificView:d="openProductSpecificView";break;default:d=b.substring(0,c),d=d.replace(/_/g," "),d=d.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}),d=d.substring(0,1).toLowerCase()+d.substring(1),d=d.replace(/ /g,""),-1!=d.indexOf("Wcpay")&&(d=d.replace("Wcpay","WCPay")),e=p[d],e&&(d=e)}f=b.substring(c+1),"confirm"==f&&(f="ok"),"failed"==f&&(f="fail"),-1!=f.indexOf("failed_")&&(f=f.substring(7)),-1!=f.indexOf("fail_")&&(f=f.substring(5)),f=f.replace(/_/g," "),f=f.toLowerCase(),("access denied"==f||"no permission to execute"==f)&&(f="permission denied"),"config"==d&&"function not exist"==f&&(f="ok"),b=d+":"+f}return b}function i(a){var b,c,d,e;if(a){for(b=0,c=a.length;c>b;++b)d=a[b],e=o[d],e&&(a[b]=e);return a}}function j(a,b){if(z.debug&&!b.isInnerInvoke){var c=p[a];c&&(a=c),b&&b._complete&&delete b._complete,console.log('"'+a+'",',b||"")}}function k(){if(!("6.0.2">w||y.systemType<0)){var a=new Image;y.appId=z.appId,y.initTime=x.initEndTime-x.initStartTime,y.preVerifyTime=x.preVerifyEndTime-x.preVerifyStartTime,C.getNetworkType({isInnerInvoke:!0,success:function(b){y.networkType=b.networkType;var c="https://open.weixin.qq.com/sdk/report?v="+y.version+"&o="+y.isPreVerifyOk+"&s="+y.systemType+"&c="+y.clientVersion+"&a="+y.appId+"&n="+y.networkType+"&i="+y.initTime+"&p="+y.preVerifyTime+"&u="+y.url;a.src=c}})}}function l(){return(new Date).getTime()}function m(b){t&&(a.WeixinJSBridge?b():q.addEventListener&&q.addEventListener("WeixinJSBridgeReady",b,!1))}function n(){C.invoke||(C.invoke=function(b,c,d){a.WeixinJSBridge&&WeixinJSBridge.invoke(b,e(c),d)},C.on=function(b,c){a.WeixinJSBridge&&WeixinJSBridge.on(b,c)})}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return a.jWeixin?void 0:(o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},p=function(){var a,b={};for(a in o)b[o[a]]=a;return b}(),q=a.document,r=q.title,s=navigator.userAgent.toLowerCase(),t=-1!=s.indexOf("micromessenger"),u=-1!=s.indexOf("android"),v=-1!=s.indexOf("iphone")||-1!=s.indexOf("ipad"),w=function(){var a=s.match(/micromessenger\/(\d+\.\d+\.\d+)/)||s.match(/micromessenger\/(\d+\.\d+)/);return a?a[1]:""}(),x={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},y={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:v?1:u?2:-1,clientVersion:w,url:encodeURIComponent(location.href)},z={},A={_completes:[]},B={state:0,res:{}},m(function(){x.initEndTime=l()}),C={config:function(a){z=a,j("config",a);var b=z.check===!1?!1:!0;m(function(){var a,d,e;if(b)c(o.config,{verifyJsApiList:i(z.jsApiList)},function(){A._complete=function(a){x.preVerifyEndTime=l(),B.state=1,B.res=a},A.success=function(){y.isPreVerifyOk=0},A.fail=function(a){A._fail?A._fail(a):B.state=-1};var a=A._completes;return a.push(function(){z.debug||k()}),A.complete=function(){for(var b=0,c=a.length;c>b;++b)a[b]();A._completes=[]},A}()),x.preVerifyStartTime=l();else{for(B.state=1,a=A._completes,d=0,e=a.length;e>d;++d)a[d]();A._completes=[]}}),z.beta&&n()},ready:function(a){0!=B.state?a():(A._completes.push(a),!t&&z.debug&&a())},error:function(a){"6.0.2">w||(-1==B.state?a(B.res):A._fail=a)},checkJsApi:function(a){var b=function(a){var b,c,d=a.checkResult;for(b in d)c=p[b],c&&(d[c]=d[b],delete d[b]);return a};c("checkJsApi",{jsApiList:i(a.jsApiList)},function(){return a._complete=function(a){if(u){var c=a.checkResult;c&&(a.checkResult=JSON.parse(c))}a=b(a)},a}())},onMenuShareTimeline:function(a){d(o.onMenuShareTimeline,{complete:function(){c("shareTimeline",{title:a.title||r,desc:a.title||r,img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareAppMessage:function(a){d(o.onMenuShareAppMessage,{complete:function(){c("sendAppMessage",{title:a.title||r,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareQQ:function(a){d(o.onMenuShareQQ,{complete:function(){c("shareQQ",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareWeibo:function(a){d(o.onMenuShareWeibo,{complete:function(){c("shareWeiboApp",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareQZone:function(a){d(o.onMenuShareQZone,{complete:function(){c("shareQZone",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},startRecord:function(a){c("startRecord",{},a)},stopRecord:function(a){c("stopRecord",{},a)},onVoiceRecordEnd:function(a){d("onVoiceRecordEnd",a)},playVoice:function(a){c("playVoice",{localId:a.localId},a)},pauseVoice:function(a){c("pauseVoice",{localId:a.localId},a)},stopVoice:function(a){c("stopVoice",{localId:a.localId},a)},onVoicePlayEnd:function(a){d("onVoicePlayEnd",a)},uploadVoice:function(a){c("uploadVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadVoice:function(a){c("downloadVoice",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},translateVoice:function(a){c("translateVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},chooseImage:function(a){c("chooseImage",{scene:"1|2",count:a.count||9,sizeType:a.sizeType||["original","compressed"]},function(){return a._complete=function(a){if(u){var b=a.localIds;b&&(a.localIds=JSON.parse(b))}},a}())},previewImage:function(a){c(o.previewImage,{current:a.current,urls:a.urls},a)},uploadImage:function(a){c("uploadImage",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadImage:function(a){c("downloadImage",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},getNetworkType:function(a){var b=function(a){var b,c,d,e=a.errMsg;if(a.errMsg="getNetworkType:ok",b=a.subtype,delete a.subtype,b)a.networkType=b;else switch(c=e.indexOf(":"),d=e.substring(c+1)){case"wifi":case"edge":case"wwan":a.networkType=d;break;default:a.errMsg="getNetworkType:fail"}return a};c("getNetworkType",{},function(){return a._complete=function(a){a=b(a)},a}())},openLocation:function(a){c("openLocation",{latitude:a.latitude,longitude:a.longitude,name:a.name||"",address:a.address||"",scale:a.scale||28,infoUrl:a.infoUrl||""},a)},getLocation:function(a){a=a||{},c(o.getLocation,{type:a.type||"wgs84"},function(){return a._complete=function(a){delete a.type},a}())},hideOptionMenu:function(a){c("hideOptionMenu",{},a)},showOptionMenu:function(a){c("showOptionMenu",{},a)},closeWindow:function(a){a=a||{},c("closeWindow",{immediate_close:a.immediateClose||0},a)},hideMenuItems:function(a){c("hideMenuItems",{menuList:a.menuList},a)},showMenuItems:function(a){c("showMenuItems",{menuList:a.menuList},a)},hideAllNonBaseMenuItem:function(a){c("hideAllNonBaseMenuItem",{},a)},showAllNonBaseMenuItem:function(a){c("showAllNonBaseMenuItem",{},a)},scanQRCode:function(a){a=a||{},c("scanQRCode",{needResult:a.needResult||0,scanType:a.scanType||["qrCode","barCode"]},function(){return a._complete=function(a){var b,c;v&&(b=a.resultStr,b&&(c=JSON.parse(b),a.resultStr=c&&c.scan_code&&c.scan_code.scan_result))},a}())},openProductSpecificView:function(a){c(o.openProductSpecificView,{pid:a.productId,view_type:a.viewType||0},a)},addCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,card_ext:e.cardExt},h.push(f);c(o.addCard,{card_list:h},function(){return a._complete=function(a){var b,c,d,e=a.card_list;if(e){for(e=JSON.parse(e),b=0,c=e.length;c>b;++b)d=e[b],d.cardId=d.card_id,d.cardExt=d.card_ext,d.isSuccess=d.is_succ?!0:!1,delete d.card_id,delete d.card_ext,delete d.is_succ;a.cardList=e,delete a.card_list}},a}())},chooseCard:function(a){c("chooseCard",{app_id:z.appId,location_id:a.shopId||"",sign_type:a.signType||"SHA1",card_id:a.cardId||"",card_type:a.cardType||"",card_sign:a.cardSign,time_stamp:a.timestamp+"",nonce_str:a.nonceStr},function(){return a._complete=function(a){a.cardList=a.choose_card_info,delete a.choose_card_info},a}())},openCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,code:e.code},h.push(f);c(o.openCard,{card_list:h},a)},chooseWXPay:function(a){c(o.chooseWXPay,f(a),a)}},b&&(a.wx=a.jWeixin=C),C)}),define("widget/mList",["iScroll"],function(a,b,c){"use strict";function d(a,b){function c(a){m.text(a)}function d(){t.options.topOffset=0,t.refresh(),h(),y[q]=(new Date).getTime(),i(),u.loading=!1}function g(){n.css("top",0),s.hide(),t.refresh()}function h(){var a,b;a=(new Date).getTime(),y[q]?(b=y[q],o.text(time.diff(b))):y[q]=a}function i(){setTimeout(function(){p.removeClass("active fa-refresh fa-spin"),c(z.start),x=0,l.removeClass("onstart onloading")},300)}var j,k,l,m,n,d,o,p,q,r,s,t,u=this,v={},w="",x=0,y=localStorage,b=lang.extend({scrollbarClass:"mlist-scrollBar",vScrollbar:!0},b),z=b.update_sta||{start:"下拉刷新",loading:"正在加载数据...",end:"松开刷新"},A=b.loadMore_sta||{start:"上拉刷新",loading:"正在加载数据...",end:"松开加载"};this.id="_mList_"+b.id,q=u.id+"_last_time",v.onScrollStart=b.onScrollStart,v.onScrollMove=b.onScrollMove,v.onScrollEnd=b.onScrollEnd,v.onBeforeScrollEnd=b.onBeforeScrollEnd,v.onUpdate=b.onUpdate,v.onLoadMore=b.onLoadMore,b.onScrollStart=function(a){u.loading||(v.onScrollStart?v.onScrollStart(a):"",x=1,l.addClass("onstart"),h()),v.onScrollStart?v.onScrollStart(a):""},b.onScrollMove=function(a){if(!u.loading){var b=t.y,d=p.hasClass("active");b>=k&&!d&&(w=z.end,c(w),setTimeout(function(){p.addClass("active")},10)),j+20>=b&&d&&i()}-t.y>=-t.maxScrollY+50&&1===t.dirY&&(u.loadMore=!1),v.onScrollMove?v.onScrollMove(a):""},this.loading=!1,this.loadMore=!0,b.onBeforeScrollEnd=function(a){return v.onBeforeScrollEnd?v.onBeforeScrollEnd(a):"",p.hasClass("active")&&!u.loading?(u.loading=!0,c(z.loading),p.addClass("fa-refresh fa-spin"),l.addClass("onloading"),v.onUpdate?v.onUpdate(d,a):"",void t.refresh()):u.loadMore?void(u.loading||i()):(s.css("display","-webkit-box"),u.loadMore=!0,n.css("top",-50),void(v.onLoadMore?v.onLoadMore(g,a):""))},t=this.iScroll=new e.iScroll(a,b),n=$(this.iScroll.scroller),r=$(u.iScroll.wrapper),setTimeout(function(){l=$(tpl.render(f)).prependTo(r),j=1*l.css("height").replace("px",""),k=1.5*j,m=l.find(".mlist-update-text"),p=l.find(".arrow"),o=l.find(".last-time"),h();var a='<div class="mlist-loadMore"><i class="fa fa-lg fa-spin fa-refresh"></i><div>'+A.loading+"</div></div>";s=$(tpl.render(a)).appendTo(r)},100)}var e=a("iScroll"),f=a("tpl/mlist_update.tpl");c.exports=d}),define("widget/net2",[],function(a,b,c){"use strict";function d(a){var b=d._ajax,c=a,f=localStorage,g={};net.ajax=function(a){function d(a){setTimeout(function(){s.sendNum--;var c;q.isSuccess&&q.isOnSuccessBefore&&(q.onSuccessBefore?q.onSuccessBefore(a,g[m]):""),c=p.isCache&&p.isPack?e.unpack_data(a,{cache:g,time_exp:n,abs_url:m}).data:a,q.isSuccess&&(o.success?o.success(c,p):""),p.isCache&&q.autoUpdate&&a._from&&(p.isCache=!1,q.isSuccess=!1,b(q))},10)}function h(){setTimeout(function(){s.sendNum--,q.maxReSendNum>0&&s.reSendNum<q.maxReSendNum&&(b(q),s.reSendNum++),o.error?o.error(p):""},10)}var i,j,k,l,m,n,o={},p={},q=p.options=e.extend({},e.setDef,c,a);q.maxSendNum>0&&(p.sendNum=1),q.maxReSendNum>0&&(p.reSendNum=1),p.isPack=!0,q.onFronts&&q.isOnFronts&&q.onFronts(p),q.onFront&&q.isOnFront&&q.onFront(p),i=e.getURL(q.url),j=e.merger_param(e.getParam(q.url),q.data),m="_netCache_"+i+j;var r;g[m]||(g[m]={cur_target:p}),r=g[m];var s=r.cur_target;if(!(s.sendNum>q.maxSendNum)){if(s.sendNum++,o.success=q.success,o.error=q.error,q.success=d,q.error=h,!q.isCache)return b(q);n=e.getTime()+1e3*q.time_exp,p.isCache=q.isCache,g[m].data?(k=g[m].data,k._from="cache"):(l=f[m])&&(l=JSON.parse(l),k=l.data,g[m].data=l,k._from="ls"),k&&e.checkTimeout(p,k);try{k?d(k):b(q)}catch(t){console.error(t),h(t)}return p}}}var e=d;e.extend=lang.extend,e.setDef={time_exp:1200,autoUpdate:1,isCache:1,maxReSendNum:3,isSuccess:1,maxSendNum:1,isOnSuccessBefore:1,isOnFront:1},e._ajax=net.ajax,e._stop=!1,e.getURL=function(a){return a.match(/[^?#]*/)[0]},e.merger_param=function(a,b){var c,d,e="",a=a?a[0]:"?";if(b){for(c in b)d=b[c],e+="&"+c+"="+d;e=a+e}else e=a;return e},e.getParam=function(a){return a.match(/\?.*/)},e.checkTimeout=function(a,b){var c=e.getTime(),d=b.time_exp;a.isCache=c-d>0?!1:!0},e.getTime=function(){return(new Date).getTime()},e.unpack_data=function(a,b){var c={},d=localStorage;return c.time_exp=b.time_exp,b.cache[b.abs_url].data=a,c.data=a,d[b.abs_url]=JSON.stringify(c),c},d.config=function(a){e.extend(e.setDef,a)},d.stop=function(){d._stop=!0},d.start=function(){d._stop=!1},d.clear=function(){var a,b=localStorage;for(a in b)/^_netCache_/.exec(a)&&delete b[a]},c.exports=d}),define("widget/netCache",[],function(a,b,c){"use strict";function d(a){var b=d._ajax,c=a,g=localStorage,h={};net.ajax=function(a){function d(a){function b(a){c=f.unpack_data(a,{cache:h,time_exp:o,abs_url:n}).data}s.sendNum--;var c;if(r.isOnSuccessBefores&&(r.onSuccessBefores?r.onSuccessBefores(a,h[n]):""),r.isOnSuccessBefore&&(r.onSuccessBefore?r.onSuccessBefore(a,h[n]):""),s.isCache&&s.isPack?b(a):c=a,r.isSuccess&&(p.success?p.success(c,s):""),r.isOnSuccessAfters&&(r.onSuccessAfters?r.onSuccessAfters(a,h[n]):""),r.isOnSuccessAfter&&(r.onSuccessAfter?r.onSuccessAfter(a,h[n]):""),s.isCache&&r.autoUpdate&&s.dataFrom){var d;r.isCache=0,r.isOnFronts=0,r.isOnSuccessAfters=0,r.isOnSuccessBefores=0,r.isOnFront=0,r.isOnSuccessAfter=0,r.isOnSuccessBefore=0,r.success=function(a){e&&(e.postMessage({news:a,cache:d}),e.onmessage=function(c){var e=c.data;1==e.status&&(b(a),r.isOnUpdates&&(r.onUpdates?r.onUpdates(a,d):""),r.isOnUpdate&&(r.onUpdate?r.onUpdate(a,d):""))})},r.error=function(){},r.error=null;var i;d=net.ajax(r),i=JSON.stringify(d.options),d.options=JSON.parse(i)}setTimeout(function(){if(Math.round(10*(JSON.stringify(g).length/5e6).toFixed(2))/10>=r.maxCap){var a=f.getIndexList().slice(0,1);a.forEach(function(a){f.clear(a)})}},111)}function i(){setTimeout(function(){s.sendNum--,r.maxReSendNum>0&&s.reSendNum<r.maxReSendNum&&(b(r),s.reSendNum++),p.error?p.error(s):""},10)}var j,k,l,m,n,o,p={},q={};a.type&&"post"==a.type.toLowerCase()&&(q.isCache=0);var r=f.extend({},f.setDef,c,q,a);j=f.getURL(r.url),k=f.merger_param(f.getParam(r.url),r.data),n="_netCache_"+j+k,h[n]||(h[n]={});var s;return s=h[n],s.id=n,s.options=r,f.setIndexList(n),r.maxSendNum>0&&(s.sendNum?"":s.sendNum=1),r.maxReSendNum>0&&(s.reSendNum?"":s.reSendNum=1),s.isPack=r.isPack,r.onFronts&&r.isOnFronts&&r.onFronts(s),r.onFront&&r.isOnFront&&r.onFront(s),s.sendNum>r.maxSendNum?void(r.onReject&&r.isOnReject&&r.onReject(s)):(s.sendNum++,s.isCache=r.isCache,p.success=r.success,p.error=r.error,r.success=d,r.error=i,r.isCache?(o=f.getTime()+1e3*r.time_exp,s.data?(l=s.data,s.dataFrom="cache"):(m=g[n])&&(m=JSON.parse(m),l=m.data,s.data=m,s.dataFrom="ls"),l&&f.checkTimeout(s,l),setTimeout(function(){try{l?d(l):b(r)}catch(a){i(a)}},11),s):(b(r),s))}}var e,f=d,g=-1==location.host.indexOf("m.pccn.com.cn")?"js/widget":"js";Worker&&(e=new Worker(g+"/netCache_diff.js")),f.extend=lang.extend,f.type=lang.type,f.setDef={time_exp:1200,autoUpdate:1,isCache:0,maxReSendNum:3,isSuccess:1,maxSendNum:1,isPack:1,maxCap:20,isOnReject:1,isOnSuccessBefores:1,isOnSuccessAfters:1,isOnFronts:1,isOnSuccessBefore:1,isOnSuccessAfter:1,isOnFront:1,isOnUpdates:1,isOnUpdate:1},f._ajax=net.ajax,f._stop=!1,f.getURL=function(a){return a.match(/[^?#]*/)[0]},f.merger_param=function(a,b){var c,d,e="",a=a?a[0]:"?";if(b){for(c in b)d=b[c],e+="&"+c+"="+d;e=a+e}else e=a;return e},f.getParam=function(a){return a.match(/\?.*/)},f.checkTimeout=function(a,b){var c=f.getTime(),d=b.time_exp;a.isCache=c-d>0?0:1},f.getTime=function(){return(new Date).getTime()},f.unpack_data=function(a,b){var c={},d=localStorage;return c.time_exp=b.time_exp,b.cache[b.abs_url].data=a,c.data=a,d[b.abs_url]=JSON.stringify(c),c},f.indexListName="_netCache_index_list",f.ls=localStorage,f.getIndexList=function(){var a=f.ls,b=f.indexListName,c=a[b];return c?JSON.parse(c):a[b]=[]},f.setIndexList=function(a){var b=f.getIndexList();f.ls[a]||(b.push(a),f.reSetIndexList(b))},f.reSetIndexList=function(a){f.ls[f.indexListName]=JSON.stringify(a)},d.config=function(a){f.extend(f.setDef,a)},d.stop=function(){d._stop=!0},d.start=function(){d._stop=!1},d.clear=function(a){function b(a){return a.replace(/\?|\&|\(|\)|\.|\*|\+|\:|\[|\]|\^|\$/g,function(a){return"\\"+a})}var c,d,e=localStorage,g=0,h="_netCache_",i=f.type;d="string"==i(a)?"^"+h+".*"+b(a.replace(h,"")):"object"==i(a)&&a.id?b(a.id):h;var j=new RegExp(d,"i"),k=f.getIndexList();for(c in e)j.test(c)&&(delete e[c],k.forEach(function(a){a==c&&k.splice(a,1)}),g++);return f.reSetIndexList(k),g},c.exports=d}),define("widget/query_box",["ui"],function(a,b,c){"use strict";function d(a,b){function c(){j.ok?j.ok():0,g()}function d(){j.cancle?j.cancle():0,g()}function f(a){var b=a||"您确定执行该操作?";h.find(".query-box-content").html(b),h.show(),e.center(h,{position:"fixed"}),j.onShow?j.onShow():""}function g(){h.hide(),j.onHide?j.onHide():""}var h,i,j,k;k=$(document),j=this,this.$obj=$(a),h=this.$obj,i=b||$("#common-mask");var l="#"+this.$obj.attr("id");return k.on("click",l+" .confirm",c),k.on("click",l+" .cancle",d),this.show=f,this.hide=g,this}var e=a("ui");c.exports=d}),define("widget/scroll_sel",["iScroll"],function(a,b,c){"use strict";function d(a,b){var c,d,f={snap:!0,def_page:0,vScroll:!0,vScrollbar:!1,bouncelock:!0,snapThreshold:1,hScrollbar:!1},g=this,h=b||{},i={};this.$root=c=$(a),this.$scroll_sel_box=d=c.find(".scroll-sel-box"),this.iScrolls=[],this.scrollers=[],this.rst=[],i.onScrollStart=h.onScrollStart||!1,i.onScrollMove=h.onScrollMove||!1,i.onScrollEnd=h.onScrollEnd||!1,h.onScrollStart=function(a){this.scrollerItemH=this.scrollerH/this.scroller.children.length,this.sel_dval=32,i.onScrollStart?i.onScrollStart.call(this,a):""},h.onScrollMove=function(a){{var b=Math.floor(this.y/this.sel_dval);this.selPageY+b}i.onScrollMove?i.onScrollMove.call(this,a):""},h.onScrollEnd=function(a){var b=$(this.scroller).find(".scroll-sel-li"),c=this.currPageY,d=this.index;g.rst[d]=c,b.removeClass("active"),b.eq(this.currPageY).addClass("active");var j=g.iScrolls[d+1];if(j){var k=j.wrapper,l=$(k),m=l.find(".scroll-sel-list"),n=m.eq(c);m.addClass("hide"),n.removeClass("hide"),h.scroller=n[0];var o=new e.iScroll(k,lang.extend(f,h));o.index=d+1,l.css("overflow","visible"),o.scrollToElement(o.scroller.children[0])}i.onScrollEnd?i.onScrollEnd.call(this,a):""},d.each(function(a){var b=d.eq(a),c=new e.iScroll(b[0],lang.extend(f,h));c.index=a,c.selPageY=0,c.scrollerChildren=c.scroller.children,g.iScrolls.push(c),g.scrollers.push($(g.iScrolls[a].scroller)),b.css("overflow","visible");var i=c.scrollerChildren[f.def_page];c.scrollToElement(i),c.currPageY=f.def_page,g.rst.push(c.currPageY),function(){}(a)})}var e=a("iScroll");c.exports=d}),define("widget/ui",[],function(a,b){"use strict";b.center=function(a,b){var c=lang.extend({position:"absolute",top:"50%",left:"50%","margin-left":a.width()/2*-1,"margin-top":a.height()/2*-1},b);return a.css(c),a}}),define("widget/upload",[],function(a,b,c){"use strict";function d(a){a&&this.init(a)}var e=$(document),f=lang.extend;d.prototype.init=function(a){function b(a){var a=a||null;d.onCompItems?d.onCompItems(a):"",g.onCompItem?g.onCompItem(a):"",h.upload_num>=g.taskLen&&(d.onCompletes?d.onCompletes(a):"",g.onComplete?g.onComplete(a):""),h.upload_num++}function c(a){function c(a){var b=document.createElement("canvas"),c=a.naturalWidth,d=a.naturalHeight,e={sx:0,sy:0,sw:c,sh:d,dx:0,dy:0,dw:100,dh:100};f(e,g.imgCut);var h=c/d;e.dw||(e.dw=e.dh*h),e.dh||(e.dh=e.dw/h),b.width=e.dw,b.height=e.dh;var i=b.getContext("2d");return i.drawImage(a,e.sx,e.sy,e.sw,e.sh,e.dx,e.dy,e.dw,e.dh),b.toDataURL()}var d;if(0==g.imgType){var e=new Image;e.src=a.rst,e.className+=" kw-upload-img",d=$(e),j.append(d)}else d=i.find(".kw-upload-img").eq(a.i),setTimeout(function(){d.attr("src",a.rst)},50);g.imgCut&&(d.off("load"),d.on("load",function(){h.rst.push(c(this)),b(a)}))}var g=f({imgCut:{},imgType:0,fileType:"img"},a),h=this;this.upload_num=1;var i=g.$root,j=i.find(".kw-upload-box");return e.on("change",g.input,function(){function a(a){console.error(a.message),d.onNotypes?d.onNotypes():"",g.onNotype?g.onNotype():"",g.taskLen=0,b()}try{h.rst=[],0==g.imgType&&j.html("");var e=this,f=this.files;d.onFronts?d.onFronts():"",g.onFront?g.onFront():"",e.upload_num=1;for(var i=g.maxNum,k=f.length,l=g.taskLen=i&&k>=i?i:k,m=0;l>m;m++){var n=f[m].type;if(!n)return void a();!function(b){var d=new FileReader;d.onload=function(e){var f=e.target.result;switch(b.rst=f,b.type.match(/.*\//i)[0].slice(0,-1)){case"image":c(b);break;default:a()}d=null},d.readAsDataURL(e.files[m])}({i:m,type:n})}}catch(o){a(o)}}),this},d.prototype.config=function(a){f(d,a)},c.exports=d}),define("widget/url",[],function(a,b,c){"use strict";function d(){}d.param_url=function(){},c.exports=d}),define("widget/wx",["widget/jweixin-1.0.0"],function(a,b){function c(){e.onMenuShareAppMessage(d),e.onMenuShareTimeline(lang.extend({},d,{title:d.desc})),e.onMenuShareQQ(d)}var d,e=a("widget/jweixin-1.0.0.js"),f=lang.extend,g={title:"油菜IT",desc:"'油菜IT'行业社交软件，拓展行业人脉，让商机主动找上门！",link:location.href,imgUrl:"http://kenwaylau.com/ucaihua/img/logo_50.png",type:""};!function(){function a(a){e.config({debug:!1,appId:a.appId,timestamp:a.timestamp,nonceStr:a.nonceStr,signature:a.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]})}net.ajax({url:C.api.wxGetJsConfig,data:{cur_href:location.href.replace(/#.*/g,"")},success:a})}(),e.error(function(){}),e.ready(function(){b.setShare({}),agent.trigger("wx_set_share")}),b.setShare=function(a){d=f({},g,{link:location.href},a),c()}}),!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define("jweixin-1.0.0",[],function(){return b(a)}):b(a,!0)}(this,function(a,b){function c(b,c,d){a.WeixinJSBridge?WeixinJSBridge.invoke(b,e(c),function(a){g(b,a,d)}):j(b,d)}function d(b,c,d){a.WeixinJSBridge?WeixinJSBridge.on(b,function(a){d&&d.trigger&&d.trigger(a),g(b,a,c)}):d?j(b,d):j(b,c)}function e(a){return a=a||{},a.appId=z.appId,a.verifyAppId=z.appId,a.verifySignType="sha1",a.verifyTimestamp=z.timestamp+"",a.verifyNonceStr=z.nonceStr,a.verifySignature=z.signature,a}function f(a){return{timeStamp:a.timestamp+"",nonceStr:a.nonceStr,"package":a.package,paySign:a.paySign,signType:a.signType||"SHA1"}}function g(a,b,c){var d,e,f;switch(delete b.err_code,delete b.err_desc,delete b.err_detail,d=b.errMsg,d||(d=b.err_msg,delete b.err_msg,d=h(a,d,c),b.errMsg=d),c=c||{},c._complete&&(c._complete(b),delete c._complete),d=b.errMsg||"",z.debug&&!c.isInnerInvoke&&alert(JSON.stringify(b)),e=d.indexOf(":"),f=d.substring(e+1)){case"ok":c.success&&c.success(b);break;case"cancel":c.cancel&&c.cancel(b);break;default:c.fail&&c.fail(b)}c.complete&&c.complete(b)}function h(a,b){var c,d,e,f;if(b){switch(c=b.indexOf(":"),a){case o.config:d="config";break;case o.openProductSpecificView:d="openProductSpecificView";break;default:d=b.substring(0,c),d=d.replace(/_/g," "),d=d.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}),d=d.substring(0,1).toLowerCase()+d.substring(1),d=d.replace(/ /g,""),-1!=d.indexOf("Wcpay")&&(d=d.replace("Wcpay","WCPay")),e=p[d],e&&(d=e)}f=b.substring(c+1),"confirm"==f&&(f="ok"),"failed"==f&&(f="fail"),-1!=f.indexOf("failed_")&&(f=f.substring(7)),-1!=f.indexOf("fail_")&&(f=f.substring(5)),f=f.replace(/_/g," "),f=f.toLowerCase(),("access denied"==f||"no permission to execute"==f)&&(f="permission denied"),"config"==d&&"function not exist"==f&&(f="ok"),b=d+":"+f}return b}function i(a){var b,c,d,e;if(a){for(b=0,c=a.length;c>b;++b)d=a[b],e=o[d],e&&(a[b]=e);return a}}function j(a,b){if(z.debug&&!b.isInnerInvoke){var c=p[a];
c&&(a=c),b&&b._complete&&delete b._complete,console.log('"'+a+'",',b||"")}}function k(){if(!("6.0.2">w||y.systemType<0)){var a=new Image;y.appId=z.appId,y.initTime=x.initEndTime-x.initStartTime,y.preVerifyTime=x.preVerifyEndTime-x.preVerifyStartTime,C.getNetworkType({isInnerInvoke:!0,success:function(b){y.networkType=b.networkType;var c="https://open.weixin.qq.com/sdk/report?v="+y.version+"&o="+y.isPreVerifyOk+"&s="+y.systemType+"&c="+y.clientVersion+"&a="+y.appId+"&n="+y.networkType+"&i="+y.initTime+"&p="+y.preVerifyTime+"&u="+y.url;a.src=c}})}}function l(){return(new Date).getTime()}function m(b){t&&(a.WeixinJSBridge?b():q.addEventListener&&q.addEventListener("WeixinJSBridgeReady",b,!1))}function n(){C.invoke||(C.invoke=function(b,c,d){a.WeixinJSBridge&&WeixinJSBridge.invoke(b,e(c),d)},C.on=function(b,c){a.WeixinJSBridge&&WeixinJSBridge.on(b,c)})}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return a.jWeixin?void 0:(o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},p=function(){var a,b={};for(a in o)b[o[a]]=a;return b}(),q=a.document,r=q.title,s=navigator.userAgent.toLowerCase(),t=-1!=s.indexOf("micromessenger"),u=-1!=s.indexOf("android"),v=-1!=s.indexOf("iphone")||-1!=s.indexOf("ipad"),w=function(){var a=s.match(/micromessenger\/(\d+\.\d+\.\d+)/)||s.match(/micromessenger\/(\d+\.\d+)/);return a?a[1]:""}(),x={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},y={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:v?1:u?2:-1,clientVersion:w,url:encodeURIComponent(location.href)},z={},A={_completes:[]},B={state:0,res:{}},m(function(){x.initEndTime=l()}),C={config:function(a){z=a,j("config",a);var b=z.check===!1?!1:!0;m(function(){var a,d,e;if(b)c(o.config,{verifyJsApiList:i(z.jsApiList)},function(){A._complete=function(a){x.preVerifyEndTime=l(),B.state=1,B.res=a},A.success=function(){y.isPreVerifyOk=0},A.fail=function(a){A._fail?A._fail(a):B.state=-1};var a=A._completes;return a.push(function(){z.debug||k()}),A.complete=function(){for(var b=0,c=a.length;c>b;++b)a[b]();A._completes=[]},A}()),x.preVerifyStartTime=l();else{for(B.state=1,a=A._completes,d=0,e=a.length;e>d;++d)a[d]();A._completes=[]}}),z.beta&&n()},ready:function(a){0!=B.state?a():(A._completes.push(a),!t&&z.debug&&a())},error:function(a){"6.0.2">w||(-1==B.state?a(B.res):A._fail=a)},checkJsApi:function(a){var b=function(a){var b,c,d=a.checkResult;for(b in d)c=p[b],c&&(d[c]=d[b],delete d[b]);return a};c("checkJsApi",{jsApiList:i(a.jsApiList)},function(){return a._complete=function(a){if(u){var c=a.checkResult;c&&(a.checkResult=JSON.parse(c))}a=b(a)},a}())},onMenuShareTimeline:function(a){d(o.onMenuShareTimeline,{complete:function(){c("shareTimeline",{title:a.title||r,desc:a.title||r,img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareAppMessage:function(a){d(o.onMenuShareAppMessage,{complete:function(){c("sendAppMessage",{title:a.title||r,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareQQ:function(a){d(o.onMenuShareQQ,{complete:function(){c("shareQQ",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareWeibo:function(a){d(o.onMenuShareWeibo,{complete:function(){c("shareWeiboApp",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareQZone:function(a){d(o.onMenuShareQZone,{complete:function(){c("shareQZone",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},startRecord:function(a){c("startRecord",{},a)},stopRecord:function(a){c("stopRecord",{},a)},onVoiceRecordEnd:function(a){d("onVoiceRecordEnd",a)},playVoice:function(a){c("playVoice",{localId:a.localId},a)},pauseVoice:function(a){c("pauseVoice",{localId:a.localId},a)},stopVoice:function(a){c("stopVoice",{localId:a.localId},a)},onVoicePlayEnd:function(a){d("onVoicePlayEnd",a)},uploadVoice:function(a){c("uploadVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadVoice:function(a){c("downloadVoice",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},translateVoice:function(a){c("translateVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},chooseImage:function(a){c("chooseImage",{scene:"1|2",count:a.count||9,sizeType:a.sizeType||["original","compressed"]},function(){return a._complete=function(a){if(u){var b=a.localIds;b&&(a.localIds=JSON.parse(b))}},a}())},previewImage:function(a){c(o.previewImage,{current:a.current,urls:a.urls},a)},uploadImage:function(a){c("uploadImage",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadImage:function(a){c("downloadImage",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},getNetworkType:function(a){var b=function(a){var b,c,d,e=a.errMsg;if(a.errMsg="getNetworkType:ok",b=a.subtype,delete a.subtype,b)a.networkType=b;else switch(c=e.indexOf(":"),d=e.substring(c+1)){case"wifi":case"edge":case"wwan":a.networkType=d;break;default:a.errMsg="getNetworkType:fail"}return a};c("getNetworkType",{},function(){return a._complete=function(a){a=b(a)},a}())},openLocation:function(a){c("openLocation",{latitude:a.latitude,longitude:a.longitude,name:a.name||"",address:a.address||"",scale:a.scale||28,infoUrl:a.infoUrl||""},a)},getLocation:function(a){a=a||{},c(o.getLocation,{type:a.type||"wgs84"},function(){return a._complete=function(a){delete a.type},a}())},hideOptionMenu:function(a){c("hideOptionMenu",{},a)},showOptionMenu:function(a){c("showOptionMenu",{},a)},closeWindow:function(a){a=a||{},c("closeWindow",{immediate_close:a.immediateClose||0},a)},hideMenuItems:function(a){c("hideMenuItems",{menuList:a.menuList},a)},showMenuItems:function(a){c("showMenuItems",{menuList:a.menuList},a)},hideAllNonBaseMenuItem:function(a){c("hideAllNonBaseMenuItem",{},a)},showAllNonBaseMenuItem:function(a){c("showAllNonBaseMenuItem",{},a)},scanQRCode:function(a){a=a||{},c("scanQRCode",{needResult:a.needResult||0,scanType:a.scanType||["qrCode","barCode"]},function(){return a._complete=function(a){var b,c;v&&(b=a.resultStr,b&&(c=JSON.parse(b),a.resultStr=c&&c.scan_code&&c.scan_code.scan_result))},a}())},openProductSpecificView:function(a){c(o.openProductSpecificView,{pid:a.productId,view_type:a.viewType||0},a)},addCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,card_ext:e.cardExt},h.push(f);c(o.addCard,{card_list:h},function(){return a._complete=function(a){var b,c,d,e=a.card_list;if(e){for(e=JSON.parse(e),b=0,c=e.length;c>b;++b)d=e[b],d.cardId=d.card_id,d.cardExt=d.card_ext,d.isSuccess=d.is_succ?!0:!1,delete d.card_id,delete d.card_ext,delete d.is_succ;a.cardList=e,delete a.card_list}},a}())},chooseCard:function(a){c("chooseCard",{app_id:z.appId,location_id:a.shopId||"",sign_type:a.signType||"SHA1",card_id:a.cardId||"",card_type:a.cardType||"",card_sign:a.cardSign,time_stamp:a.timestamp+"",nonce_str:a.nonceStr},function(){return a._complete=function(a){a.cardList=a.choose_card_info,delete a.choose_card_info},a}())},openCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,code:e.code},h.push(f);c(o.openCard,{card_list:h},a)},chooseWXPay:function(a){c(o.chooseWXPay,f(a),a)}},b&&(a.wx=a.jWeixin=C),C)}),define("wx",["./jweixin-1.0.0"],function(a){var b=a("./jweixin-1.0.0");!function(){function a(a){b.config({debug:!1,appId:a.appId,timestamp:a.timestamp,nonceStr:a.nonceStr,signature:a.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]})}net.ajax({url:C.api.wxGetJsConfig,data:{cur_href:location.href.replace(/#.*/g,"")},success:a})}(),b.error(function(){}),b.ready(function(){var a={title:"油菜IT",desc:"'油菜IT'行业社交软件，拓展行业人脉，让商机主动找上门！",link:"http://app.ucaihua.cn/",imgUrl:"http://kenwaylau.com/ucaihua/img/logo_50.png",type:""};b.onMenuShareAppMessage(a),b.onMenuShareTimeline(lang.extend({},a,{title:a.desc}))})});